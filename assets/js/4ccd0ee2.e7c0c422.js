"use strict";(self.webpackChunkpcoin_website=self.webpackChunkpcoin_website||[]).push([[9376],{4137:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,h=m["".concat(p,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(h,i(i({ref:t},s),{},{components:n})):a.createElement(h,i({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5893:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return c}});var a=n(3117),r=n(102),l=(n(7294),n(4137)),i=["components"],o={title:"Pull payments"},p=void 0,u={unversionedId:"PcoinPay/Guide/PullPayments/PullPayments",id:"PcoinPay/Guide/PullPayments/PullPayments",title:"Pull payments",description:"Introduction",source:"@site/docs/PcoinPay/Guide/PullPayments/PullPayments.md",sourceDirName:"PcoinPay/Guide/PullPayments",slug:"/PcoinPay/Guide/PullPayments/",permalink:"/docs/PcoinPay/Guide/PullPayments/",draft:!1,editUrl:"https://github.com/pcoinproject/pcoin.dev/edit/master/docs/PcoinPay/Guide/PullPayments/PullPayments.md",tags:[],version:"current",frontMatter:{title:"Pull payments"},sidebar:"tutorialSidebar",previous:{title:"Payment Requests",permalink:"/docs/PcoinPay/Guide/PaymentRequests"},next:{title:"Refunds",permalink:"/docs/PcoinPay/Guide/PullPayments/Refund"}},s={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Concept",id:"concept",level:2},{value:"Greenfield API",id:"greenfield-api",level:2},{value:"User interface",id:"user-interface",level:2},{value:"Create a pull payment",id:"create-a-pull-payment",level:3},{value:"Approve and pay a payout",id:"approve-and-pay-a-payout",level:3},{value:"Additional use cases for the Pull Payments feature",id:"additional-use-cases-for-the-pull-payments-feature",level:2}],m={toc:c};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"introduction"},"Introduction"),(0,l.kt)("p",null,"Traditionally, to make a Bitcoin payment, a receiver shares their bitcoin address and the sender later sends money to this address.\nSuch system is called ",(0,l.kt)("inlineCode",{parentName:"p"},"Push payment")," as the sender initiates the payment while the receiver may be unavailable, in effect ",(0,l.kt)("inlineCode",{parentName:"p"},"pushing")," the payment to the receiver."),(0,l.kt)("p",null,"However, what about reversing the role?"),(0,l.kt)("p",null,"What if, instead of a sender ",(0,l.kt)("inlineCode",{parentName:"p"},"pushing")," the payment, the sender allows the receiver to ",(0,l.kt)("inlineCode",{parentName:"p"},"pull")," the payment at a time the receiver seems fit?\nThis is the concept of ",(0,l.kt)("inlineCode",{parentName:"p"},"Pull payment"),". This allows several new applications such as:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A subscription service (where the subscriber allows the service to pull money every x amount of time)"),(0,l.kt)("li",{parentName:"ul"},"Refunds (where the merchant allows the customer to pull the refund money to his wallet when it seems fit)"),(0,l.kt)("li",{parentName:"ul"},"Time-based billing for freelancers (where the person hiring allows the freelancer to pull money to his wallet as time gets reported)"),(0,l.kt)("li",{parentName:"ul"},"Patronage (where the patron allows the recipient to pull money every month to continue supporting their work)"),(0,l.kt)("li",{parentName:"ul"},"Automatic selling (where a customer of an exchange would allow an exchange to pull money from their wallet to automatically sell every month)"),(0,l.kt)("li",{parentName:"ul"},"Balance withdraw system (where a high-volume service allows users to request withdrawals from their balance, the service can then easily batch all the payouts to many users, at fixed intervals)")),(0,l.kt)("h2",{id:"concept"},"Concept"),(0,l.kt)("p",null,"When a sender configures a ",(0,l.kt)("inlineCode",{parentName:"p"},"Pull payment"),", they can configure a number of properties:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Start date"),(0,l.kt)("li",{parentName:"ul"},"End date (optional)"),(0,l.kt)("li",{parentName:"ul"},"A period (optional)"),(0,l.kt)("li",{parentName:"ul"},"A limit amount"),(0,l.kt)("li",{parentName:"ul"},"A unit (such as USD, BTC, Hours)"),(0,l.kt)("li",{parentName:"ul"},"Available payment methods")),(0,l.kt)("p",null,"After this, the sender can ",(0,l.kt)("strong",{parentName:"p"},"share the pull payment")," using a link with the receiver, allowing the receiver to ",(0,l.kt)("inlineCode",{parentName:"p"},"create a payout"),".\nThe receiver will choose for their payout:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Which payment method to use"),(0,l.kt)("li",{parentName:"ul"},"Where to send the money")),(0,l.kt)("p",null,"Once a payout is created, it will count toward the ",(0,l.kt)("inlineCode",{parentName:"p"},"pull payment's limit")," for the current ",(0,l.kt)("inlineCode",{parentName:"p"},"period"),".\nThe sender will then approve the payout by setting the ",(0,l.kt)("inlineCode",{parentName:"p"},"rate")," in which the payout will be sent, and proceed with payment."),(0,l.kt)("p",null,"For the sender, we provide an easy to use way to batch the payment of several payouts from the ",(0,l.kt)("a",{parentName:"p",href:"../Wallet.md"},"PCOINPay Internal Wallet"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"\n +----------+           +-------------------+            +------------+\n |          |           |                   |            |            |\n |  Sender  |           |   PCOINPay Server |            |  Receiver  |\n |          |           |                   |            |            |\n +----------+           +-------------------+            +------------+\n      |                            |                            |\n      |                            |                            |\n      |          Create            |                            |\n      +---------------------------\x3e+                            |\n      |          Pull payment      |                            |\n      |                            |                            |\n      |                            |                            |\n      |          Share             |                            |\n      +--------------------------------------------------------\x3e+\n      |          Pull payment      |                            |\n      |                            |                            |\n      |                            |           Create           |\n      |                            +<---------------------------+\n      |                            |           Payout           |\n      |                            |                            |\n      |         Approve            |                            |\n      +---------------------------\x3e+                            v\n      |         Payout             |\n      |                            |\n      |         Pay                |\n      +---------------------------\x3e+\n      |         Payout             |\n      |                            |\n      |                            |\n      v                            v\n")),(0,l.kt)("p",null,"Note that PCOINPay Server does not approve and pay a payout automatically. In future releases, we will look into payouts which are approved to be paid out automatically under the correct conditions.\nInstead, a notification will appear for the sender, giving the sender the choice to approve and pay the payouts."),(0,l.kt)("h2",{id:"greenfield-api"},"Greenfield API"),(0,l.kt)("p",null,"We provide a full API to both the sender and receiver that is documented in the ",(0,l.kt)("inlineCode",{parentName:"p"},"/docs")," page of your instance. (or on our ",(0,l.kt)("a",{parentName:"p",href:"https://doc2p.pcoin.dev/API/Greenfield/v1/"},"public link")," page)"),(0,l.kt)("p",null,"Since our API exposes the full capability of pull payments, a sender can automate payments for his own need."),(0,l.kt)("h2",{id:"user-interface"},"User interface"),(0,l.kt)("p",null,"The user interface only allows a subset of what is possible."),(0,l.kt)("h3",{id:"create-a-pull-payment"},"Create a pull payment"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Go to your wallet page / pull payments"),(0,l.kt)("li",{parentName:"ol"},"Click on ",(0,l.kt)("inlineCode",{parentName:"li"},"Create a new pull payment")),(0,l.kt)("li",{parentName:"ol"},"Fill out the pull payment information, click ",(0,l.kt)("inlineCode",{parentName:"li"},"Create")),(0,l.kt)("li",{parentName:"ol"},"Go to the pull payment page by clicking on ",(0,l.kt)("inlineCode",{parentName:"li"},"View")),(0,l.kt)("li",{parentName:"ol"},"Share this page with the payment receiver"),(0,l.kt)("li",{parentName:"ol"},"As the receiver, fill out how much ",(0,l.kt)("inlineCode",{parentName:"li"},"USD")," you claim, and to which address the money should be sent.")),(0,l.kt)("h3",{id:"approve-and-pay-a-payout"},"Approve and pay a payout"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"The sender gets notified when the receiver is pulling money"),(0,l.kt)("li",{parentName:"ol"},"Clicking on the notification brings the sender to a page listing all outstanding payouts"),(0,l.kt)("li",{parentName:"ol"},"Check the payout to approve, pay and confirm"),(0,l.kt)("li",{parentName:"ol"},"You are then brought to the normal wallet user interface of PCOINPay Server")),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"Clicking on Confirm selected payouts will use the current exchange rate of your wallet's store settings. The rate is then fixed, even if you don't complete the payment. Payments made at a later time will use this previously confirmed rate.")),(0,l.kt)("h2",{id:"additional-use-cases-for-the-pull-payments-feature"},"Additional use cases for the Pull Payments feature"),(0,l.kt)("p",null,"The ",(0,l.kt)("strong",{parentName:"p"},"Pull Payment feature")," can be used in multiple applications, the first one being ",(0,l.kt)("a",{parentName:"p",href:"/docs/PcoinPay/Guide/PullPayments/Refund"},"Refunds"),"."))}d.isMDXComponent=!0}}]);