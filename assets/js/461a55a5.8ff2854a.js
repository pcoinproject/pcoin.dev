"use strict";(self.webpackChunkpcoin_website=self.webpackChunkpcoin_website||[]).push([[9319],{4137:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return f}});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),l=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=l(e.components);return o.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(t),f=r,h=p["".concat(c,".").concat(f)]||p[f]||d[f]||i;return t?o.createElement(h,a(a({ref:n},u),{},{components:t})):o.createElement(h,a({ref:n},u))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=p;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var l=2;l<i;l++)a[l]=t[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},7995:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d}});var o=t(3117),r=t(102),i=(t(7294),t(4137)),a=["components"],s={id:"deploying-your-own-pcoin-netwok",title:"Deploying your own PCOIN network",sidebar_label:"Deploying your own PCOIN network"},c=void 0,l={unversionedId:"Pcoin-Core/deploying-your-own-pcoin-netwok",id:"Pcoin-Core/deploying-your-own-pcoin-netwok",title:"Deploying your own PCOIN network",description:"A concise guide to configuring seed nodes, miners as well as main-net and test-net networks.",source:"@site/docs/Pcoin-Core/deploying-your-own-pcoin-netwok.md",sourceDirName:"Pcoin-Core",slug:"/Pcoin-Core/deploying-your-own-pcoin-netwok",permalink:"/pcoin.dev/docs/Pcoin-Core/deploying-your-own-pcoin-netwok",draft:!1,editUrl:"https://github.com/pcoinproject/pcoin.dev/edit/master/docs/Pcoin-Core/deploying-your-own-pcoin-netwok.md",tags:[],version:"current",frontMatter:{id:"deploying-your-own-pcoin-netwok",title:"Deploying your own PCOIN network",sidebar_label:"Deploying your own PCOIN network"},sidebar:"tutorialSidebar",previous:{title:"Sample init scripts and service configuration for pcoind",permalink:"/pcoin.dev/docs/Pcoin-Core/Miscellaneous/init"},next:{title:"Getting Started",permalink:"/pcoin.dev/docs/User-Guide/getting-started"}},u={},d=[{value:"Seed Node Configuration",id:"seed-node-configuration",level:2},{value:"Network Configuration",id:"network-configuration",level:2},{value:"Miner Configuration",id:"miner-configuration",level:2},{value:"Verifying Blocks",id:"verifying-blocks",level:2}],p={toc:d};function f(e){var n=e.components,t=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"A concise guide to configuring seed nodes, miners as well as main-net and test-net networks."),(0,i.kt)("h2",{id:"seed-node-configuration"},"Seed Node Configuration"),(0,i.kt)("p",null,"Seed nodes are trusted nodes that help new nodes connect to the rest of the network. You can still technically have a network work without seed nodes. But, if you don't have seed nodes preconfigured. You need to use the ",(0,i.kt)("inlineCode",{parentName:"p"},"addnode")," command via RPC or config file."),(0,i.kt)("p",null,"To set up and configure seed nodes for your new network. You need to configure the node with the instructions from /contrib/seeds. Note that the markdown file in the repository mentions curling for pcoin's seed nodes; however, in our case. We want to set up custom seed nodes. Thus, ignore the contents of that ",(0,i.kt)("inlineCode",{parentName:"p"},"README.md"),"."),(0,i.kt)("p",null,"To begin, set up several VPSes on any cloud hosting provider. Once you configure those new VPSes, you can modify the nodes_main.txt and nodes_test.txt."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# nodes_main.txt\nVPS.IP.1\nVPS.IP.2\nVPS.IP.3\n")),(0,i.kt)("p",null,"Once you complete this, you can then have the seed nodes hardcoded into your network. It would be best if you run the python script in /contrib/seeds, which then hardcodes the seeds into the /src/chainparamsseeds.h file."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"cd contrib/seeds\npython3 generate-seeds.py . > ../../src/chainparamsseeds.h\n")),(0,i.kt)("h2",{id:"network-configuration"},"Network Configuration"),(0,i.kt)("p",null,"You need all the VPSes to be set up and configured as full nodes. Assuming that you have a new fork and your new source hardcoded in /src/chainparamsseeds.h committed to git. You can configure each node on each VPS as you would for any other full node."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/MyAwesomeBitcoinFork --depth 1 --branch master\n# Make sure to have dependencies installed\n./autogen.sh\n./configure\nmake\nmake install\n")),(0,i.kt)("p",null,"Upon configuration of the network, any IP assigned to nodes_main.txt should be run as a mainnet node while any IP assigned to nodes_test.txt should run as a testnet node."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"# If the IP is for the mainnet\npcoind\n\n#If the IP is for the testnet\npcoind -testnet\n")),(0,i.kt)("h2",{id:"miner-configuration"},"Miner Configuration"),(0,i.kt)("p",null,"Setting up a full node to mine transactions is a necessity for actual data to be submitted to the network. Elsewise, if a new node were to connect and submit a transaction. Nothing would happen. Mining in pcoin is an adversarial process. That decentralized and adversarial process is part of what secures the ledger. After you've successfully begun mining, wait a while, and you should be able to see the balance with the getwalletinfo command."),(0,i.kt)("p",null,"To start the mining process, you need to configure the full node to mine with the generatetoaddress command."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'pcoin-cli getnewaddress # Copy this address\npcoin-cli generatetoaddress 10 "youraddress"\n')),(0,i.kt)("p",null,"After that, you can view if blocks are getting mined with the getblockcount command. And you can get your wallet balance with the getwalletinfo command."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"# Confirm that blocks are getting mined\npcoin-cli getblockcount\n\n# Confirm that funds are in your full node's wallet\npcoin-cli getwalletinfo\n")),(0,i.kt)("h2",{id:"verifying-blocks"},"Verifying Blocks"),(0,i.kt)("p",null,"In a new network, there is only one block, the genesis block. The genesis block must follow the same consensus rules as all other blocks created afterwards. Though in the software, it appears set in stone, it is arbitrarily when the block verifies as valid. The genesis block must have a matching hash in the definition of the chain (in the case of pcoin), as that is a requirement."),(0,i.kt)("p",null,"In src/chainparams.cpp, there are functions to create the genesis block. Note that the function static CBlock CreateGenesisBlock() hash a signature pszTimestamp to create the genesis block. It may be a good idea to update this genesis block before mining and creating blocks in your network so that it's unique in comparison to the PCOIN network."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Located on line 56 in src/chainparams.cpp\nstatic CBlock CreateGenesisBlock(uint32_t nTime, uint32_t nNonce, uint32_t nBits, int32_t nVersion, const CAmount& genesisReward)\n{\n    const char* pszTimestamp = "BTC Block 737457 0000000000000000000745bc51b5f4ae27325b3190c3d62fa0f31b98abec889d";\n    const CScript genesisOutputScript = CScript() << ParseHex("04ec898508cf743f1492241c2b3af3ab77e69f721088063609cdbd8c8cffe39b4ec5a505bbd5548eedcf3f4121884b38da05c8d51ae31bb36d050c00bc025eb5f5") << OP_CHECKSIG;\n    return CreateGenesisBlock(pszTimestamp, genesisOutputScript, nTime, nNonce, nBits, nVersion, genesisReward);\n}\n')))}f.isMDXComponent=!0}}]);