<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-PcoinPay/Guide/OpenCart">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">OpenCart | Pcoin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcoin.dev/docs/PcoinPay/Guide/OpenCart"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OpenCart | Pcoin"><meta data-rh="true" name="description" content="How to integrate PCOINPay Server into your OpenCart store."><meta data-rh="true" property="og:description" content="How to integrate PCOINPay Server into your OpenCart store."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pcoin.dev/docs/PcoinPay/Guide/OpenCart"><link data-rh="true" rel="alternate" href="https://pcoin.dev/docs/PcoinPay/Guide/OpenCart" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcoin.dev/docs/PcoinPay/Guide/OpenCart" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","xxx","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.230d5e6f.css">
<link rel="preload" href="/assets/js/runtime~main.d9506690.js" as="script">
<link rel="preload" href="/assets/js/main.6ec536de.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#036487;color:black" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">PCOIN is still under active development, be aware that breaking changes may occur.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Pcoin</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Pcoin</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Pcoin-Core">PCOIN Core</a><button aria-label="Toggle the collapsible sidebar category &#x27;PCOIN Core&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/User-Guide/getting-started">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/PIPs">PCOIN Improvement Proposals (PIPs)</a><button aria-label="Toggle the collapsible sidebar category &#x27;PCOIN Improvement Proposals (PIPs)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/PcoinPay/Guide">PcoinPay</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/PcoinPay/Guide">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Walkthrough">PCOINPay Server Walkthrough</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/UseCase">Who can use PCOINPay Server?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/PCOINPayVsOthers">PCOINPay Server vs. Others</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/RegisterAccount">(1) Register account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/CreateStore">(2) Create a store</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/PcoinPay/Guide/WalletSetup">(3) Wallet Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;(3) Wallet Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/WhatsNext">(4) What&#x27;s Next?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Dashboard">Dashboard</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/PcoinPay/Guide/Wallet">Wallet</a><button aria-label="Toggle the collapsible sidebar category &#x27;Wallet&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Invoices">What is an invoice in PCOINPay Server?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/PaymentRequests">Payment Requests</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/PcoinPay/Guide/PullPayments">Pull payments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pull payments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Payouts">Payouts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Apps">Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Accounting">Accounting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Payjoin">Payjoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/WooCommerce">WooCommerce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Shopify">Shopify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Magento">Magento</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/PrestaShop">Prestashop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/PcoinPay/Guide/OpenCart">OpenCart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Shopware">Shopware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/VirtueMart">VirtueMart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/CustomIntegration">Custom Integration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/PcoinPay/Guide/LNbank">LNbank</a><button aria-label="Toggle the collapsible sidebar category &#x27;LNbank&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/PodServer">PodServer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Trocador">Trocador</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Support">Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/PcoinPay/Guide/Community">Community</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Help/faq">Help</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">PcoinPay</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/PcoinPay/Guide"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OpenCart</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenCart integration</h1><p>This document explains how <strong>to integrate PCOINPay Server into your OpenCart store</strong>. Supported are OpenCart 3 and 4.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2><p>Please ensure that you meet the following requirements before installing this extension.</p><ul><li>PHP version &gt;= 7.4 for OpenCart 3; PHP &gt;= 8.1 for OpenCart 4</li><li>The curl, gd, intl, json, and mbstring PHP extensions are available</li><li>A OpenCart 3/4 store (<a href="https://www.opencart.com/index.php?route=cms/download" target="_blank" rel="noopener noreferrer">Download and installation instructions</a>)</li><li><strong>IMPORTANT:</strong> You have a PCOINPay Server version 2.x.x or later, either <a href="/docs/PcoinPay/Deployment/README.md">self-hosted</a> or <a href="/docs/PcoinPay/Deployment/ThirdPartyHosting.md">hosted by a third-party</a></li><li><a href="/docs/PcoinPay/Guide/RegisterAccount">You&#x27;ve a registered account on the instance</a></li><li><a href="/docs/PcoinPay/Guide/CreateStore">You&#x27;ve got a PCOINPay store on the instance</a></li><li><a href="/docs/PcoinPay/Guide/WalletSetup">You&#x27;ve got a wallet connected to your store</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-install-pcoinpay-extension">1. Install PCOINPay extension<a href="#1-install-pcoinpay-extension" class="hash-link" aria-label="Direct link to 1. Install PCOINPay extension" title="Direct link to 1. Install PCOINPay extension">​</a></h2><ul><li><a href="https://github.com/pcoinproject/opencart" target="_blank" rel="noopener noreferrer">GitHub Repository</a></li></ul><ol><li>Download the latest PCOINPay extension from <a href="https://github.com/pcoinproject/opencart/releases" target="_blank" rel="noopener noreferrer">Github</a></li><li>Menu: Extensions -&gt; Install</li><li>Click the button <!-- -->[Upload]<!-- --> and upload the downloaded <code>pcoinpay.ocmod.zip</code>
After uploading, you should see a notice &quot;Success: You have modified extensions! &quot;</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="12-install-the-extension">1.2 Install the extension<a href="#12-install-the-extension" class="hash-link" aria-label="Direct link to 1.2 Install the extension" title="Direct link to 1.2 Install the extension">​</a></h3><ol><li>Menu: Extensions -&gt; Extensions</li><li>On the &quot;Choose extension type&quot; dropdown, select &quot;Payment&quot;.</li><li>On the &quot;Action&quot; column, click the green install button.</li><li>You will see a notification &quot; Success: You have modified payments!&quot;</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-connecting-opencart-and-pcoinpay-server">2. Connecting OpenCart and PCOINPay Server<a href="#2-connecting-opencart-and-pcoinpay-server" class="hash-link" aria-label="Direct link to 2. Connecting OpenCart and PCOINPay Server" title="Direct link to 2. Connecting OpenCart and PCOINPay Server">​</a></h2><p>Please make sure to have a PCOINPay Server instance setup as described in the <a href="#requirements">requirements</a> above.</p><p>PCOINPay for OpenCart extension is a <strong>bridge between your PCOINPay Server (payment processor) and your e-commerce store</strong>.
No matter if you&#x27;re using a self-hosted or third-party solution, the connection process is identical.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="21-configure-pcoinpay-server-extension-in-opencart">2.1 Configure PCOINPay Server extension in OpenCart<a href="#21-configure-pcoinpay-server-extension-in-opencart" class="hash-link" aria-label="Direct link to 2.1 Configure PCOINPay Server extension in OpenCart" title="Direct link to 2.1 Configure PCOINPay Server extension in OpenCart">​</a></h3><ol><li>Menu: Extensions -&gt; Extensions</li><li>Click the blue edit button</li><li>Configure PCOINPay extension.</li><li>On the field &quot;Payment Method Enabled&quot; set it to <code>Enabled</code></li><li>On field &quot;PCOINPay Server URL&quot; set it to the URL where your PCOINPay Server instance is reachable on the internet e.g. <code>https://pay.pcoin.dev/</code>. You can find information on how to deploy your PCOINPay Server instance in the <a href="#requirements">requirements section above</a></li></ol><p>Before you can continue, you need to create the API key for your user and store, as described in the next section. Keep this browser tab open, as we will come back shortly.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="22-create-an-api-key-and-configure-permissions">2.2 Create an API key and configure permissions<a href="#22-create-an-api-key-and-configure-permissions" class="hash-link" aria-label="Direct link to 2.2 Create an API key and configure permissions" title="Direct link to 2.2 Create an API key and configure permissions">​</a></h3><p>On your PCOINPay Server instance:</p><ol><li>Click on <em>[Account]</em></li><li>Click on <em>[Manage Account]</em></li><li>Go to the tab <em>&quot;API Keys&quot;</em></li><li>Click <em>[Generate Key]</em> to select permissions.</li><li>&quot;Label&quot;: Add a label.</li><li>&quot;Permissions&quot;: <strong>Important:</strong> click on the <em>&quot;Select specific stores&quot;</em> link for the following permissions: <code>View invoices</code>, <code>Create invoice</code>, <code>Modify invoices</code>, <code>Modify stores webhooks</code>, <code>View your stores</code> and select the store you created for your OpenCart site. This makes sure that the API key only has access to that specific store and can&#x27;t drain any funds even if the key is lost.</li><li>Click on <em>[Generate API Key]</em> at the bottom</li><li>Copy the generated API Key to your <em>OpenCart PCOINPay settings</em> form field &quot;PCOINPay API Key&quot;</li><li>Back on PCOINPay Server instance, go to your store settings and copy the store ID to your <em>OpenCart PCOINPay Settings</em> form</li><li>Back on <em>OpenCart PCOINPay settings</em> form make sure <strong>PCOINPay Server URL</strong>, <strong>API Key</strong> and <strong>Store ID</strong> are set and click <strong>[Save]</strong> button (on the top right)</li></ol><p>You should get back to the Extensions overview page and see the notification &quot;PCOINPay Server Payment details have been successfully updated.&quot;. If not, ensure your URL, API Key and Store ID are correct.</p><p>On successfully saving, the PCOINPay extension automatically creates a webhook so OpenCart can get notified when payments settle or fail. To double check it was successful. You can do that by editing the PCOINPay extension settings again if you see the &quot;Webhook Data&quot; field filled out.</p><p>As you can see on the PCOINPay extension settings, you can customize the order statuses depending on the <a href="https://doc2p.pcoin.dev/Invoices/#invoice-statuses" target="_blank" rel="noopener noreferrer">invoice statuses</a> and other common settings. The defaults should be a good starting point but feel free to adjust them to your use case.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-test-the-checkout">3. Test the checkout<a href="#3-test-the-checkout" class="hash-link" aria-label="Direct link to 3. Test the checkout" title="Direct link to 3. Test the checkout">​</a></h2><p>Everything is ready to go now. Make a small test purchase and make sure the order status gets updated according to the PCOINPay invoice status. On the PCOINPay Server invoice details, you can see if the webhook events were successful.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="enable-debug-mode">Enable debug mode<a href="#enable-debug-mode" class="hash-link" aria-label="Direct link to Enable debug mode" title="Direct link to Enable debug mode">​</a></h3><p>If you have an error during checkout, you can enable the debugging mode on the PCOINPay extension settings. Menu: Go to &quot;Extensions -&gt; extensions&quot; select &quot;Payments&quot; on the &quot;Choose Extension Type&quot; dropdown and edit PCOINPay Server extension.</p><p>You can now find the debug output in the <code>error log</code> in the menu &quot;System -&gt; Maintenence -&gt; Error Logs&quot;.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p><strong>Please make sure to disable it after debugging is finished; otherwise, it will fill up your error logs.</strong></p></div></div><p><strong>Example Error</strong>:</p><blockquote><p>2022-05-24 21:10:50 ERROR Error during POST to <a href="https://pcoinpay.example.com/api/v1/stores/4kD5bvAF5j8DokHqAzxb6MFDV4ikabcdefghijklm/invoices" target="_blank" rel="noopener noreferrer">https://pcoinpay.example.com/api/v1/stores/4kD5bvAF5j8DokHqAzxb6MFDV4ikabcdefghijklm/invoices</a>. Got response (401): {<!-- -->&quot;<!-- -->code<!-- -->&quot;<!-- -->:<!-- -->&quot;<!-- -->unauthenticated<!-- -->&quot;<!-- -->,<!-- -->&quot;<!-- -->message<!-- -->&quot;<!-- -->:<!-- -->&quot;<!-- -->Authentication is required for accessing this endpoint<!-- -->&quot;<!-- -->}</p></blockquote><ul><li><p>This means there is some authentication error. Likely your API key does not have permission to create invoices for that store. Make sure you give the API key the correct permissions, give it to the right store, and enter that in the OpenCart payment configuration form.</p></li><li><p>Another reason could be that you use a legacy API key. The legacy API keys are located in store settings -&gt; Access Tokens. But you need to create an account API key located in Account -&gt; Manage Account -&gt; tab &quot;API Keys&quot;. See section <a href="#22-create-an-api-key-and-configure-permissions">2.2 Create an API key and configure permissions</a>.</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-order-states-do-not-update-although-the-invoice-has-been-paid">The order states do not update, although the invoice has been paid.<a href="#the-order-states-do-not-update-although-the-invoice-has-been-paid" class="hash-link" aria-label="Direct link to The order states do not update, although the invoice has been paid." title="Direct link to The order states do not update, although the invoice has been paid.">​</a></h2><p>Please check your invoice details to see if there were any errors on sending the webhook request. Some hosting providers, firewall setups, or security extensions may block POST requests to your site, which leads to an HTTP status of &quot;403 forbidden&quot;.</p><p>You can check and verify yourself if there is something blocking requests to your site in one of these two ways:</p><p><strong>1. Copy webhook callback URL</strong><br>
<!-- -->Go to your <em>OpenCart PCOINPay extension settings</em> and copy the &quot;URL&quot; of the &quot;Webhook Data&quot; field. e.g., <code>https://YOURSTOREDOMAIN.TLD/index.php?route=extension/payment/pcoinpay/callback</code></p><p><strong>2.1 Check using a command line (Linux or MacOS):</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">curl -vX POST -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    -d &#x27;{&quot;data&quot;: &quot;test&quot;}&#x27; WEBHOOK_CALLBACK_URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(replace <code>WEBHOOK_CALLBACK_URL</code> with the one copied above)</p><p>Result:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">.... snip ....</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">* upload completely sent off: 16 out of 16 bytes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; HTTP/1.1 403 Forbidden</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; access-control-allow-origin: *</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; Content-Type: application/json; charset=UTF-8</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; X-Cloud-Trace-Context: 4f07d5b2e5c2f05949d04421a8e2dd6a</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; Date: Thu, 17 Feb 2022 10:06:50 GMT</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; Server: Google Frontend</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">&lt; Content-Length: 26</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you see that line &quot;HTTP/1.1 403 Forbidden&quot; or &quot;HTTP/2 403&quot; something is blocking data sent to your OpenCart site. It would be best to ask your hosting provider or make sure no firewall or security extension is blocking the requests.</p><p><strong>2.2 Check using an online service if you do not have a command line available:</strong></p><ul><li>Go to <a href="https://reqbin.com/post-online" target="_blank" rel="noopener noreferrer">https://reqbin.com/post-online</a></li><li><ol><li>Enter your callback url (copied from step 1 above): <code>https://YOURSTOREDOMAIN.TLD/index.php?route=extension/payment/pcoinpay/callback</code>
(replace this URL with the webhook callback url from step 1)</li></ol></li><li>Make sure &quot;POST&quot; is selected</li><li><ol start="2"><li>Click <!-- -->[Send]</li></ol></li></ul><p>If you see &quot;<strong>Status 403 (Forbidden)</strong>&quot; then POST requests to your site are blocked for some reason. You should ask your hosting provider or ensure no firewall or security extension is blocking the requests. If you see any other status code (200, 500, ...) a firewall problem seems not to apply. You probably need to investigate further.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/open-cart">OpenCart</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/plugin">Plugin</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/e-commerce">eCommerce</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pcoinproject/pcoin.dev/edit/master/docs/PcoinPay/Guide/OpenCart.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/PcoinPay/Guide/PrestaShop"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prestashop</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/PcoinPay/Guide/Shopware"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Shopware</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#1-install-pcoinpay-extension" class="table-of-contents__link toc-highlight">1. Install PCOINPay extension</a><ul><li><a href="#12-install-the-extension" class="table-of-contents__link toc-highlight">1.2 Install the extension</a></li></ul></li><li><a href="#2-connecting-opencart-and-pcoinpay-server" class="table-of-contents__link toc-highlight">2. Connecting OpenCart and PCOINPay Server</a><ul><li><a href="#21-configure-pcoinpay-server-extension-in-opencart" class="table-of-contents__link toc-highlight">2.1 Configure PCOINPay Server extension in OpenCart</a></li><li><a href="#22-create-an-api-key-and-configure-permissions" class="table-of-contents__link toc-highlight">2.2 Create an API key and configure permissions</a></li></ul></li><li><a href="#3-test-the-checkout" class="table-of-contents__link toc-highlight">3. Test the checkout</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#enable-debug-mode" class="table-of-contents__link toc-highlight">Enable debug mode</a></li></ul></li><li><a href="#the-order-states-do-not-update-although-the-invoice-has-been-paid" class="table-of-contents__link toc-highlight">The order states do not update, although the invoice has been paid.</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Block Explorer</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mainnet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mainnet 1</a></li><li class="footer__item"><a href="https://explorer.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mainnet 2</a></li><li class="footer__item"><a href="https://testnet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet</a></li><li class="footer__item"><a href="https://faucet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet Faucet</a></li><li class="footer__item"><a href="https://visualizer.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Visualizer</a></li><li class="footer__item"><a href="https://web.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pcoin Web Wallet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help/faq">FAQ</a></li><li class="footer__item"><a href="https://github.com/pcoinproject/pcoin/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Pcoin. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d9506690.js"></script>
<script src="/assets/js/main.6ec536de.js"></script>
</body>
</html>