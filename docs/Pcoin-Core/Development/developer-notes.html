<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Pcoin-Core/Development/developer-notes">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","xxx","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-rh="true">Developer Notes | Pcoin</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcoinproject.github.io/pcoin.dev/docs/Pcoin-Core/Development/developer-notes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developer Notes | Pcoin"><meta data-rh="true" name="description" content="Coding Style (General)"><meta data-rh="true" property="og:description" content="Coding Style (General)"><link data-rh="true" rel="icon" href="/pcoin.dev/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pcoinproject.github.io/pcoin.dev/docs/Pcoin-Core/Development/developer-notes"><link data-rh="true" rel="alternate" href="https://pcoinproject.github.io/pcoin.dev/docs/Pcoin-Core/Development/developer-notes" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcoinproject.github.io/pcoin.dev/docs/Pcoin-Core/Development/developer-notes" hreflang="x-default"><link rel="stylesheet" href="/pcoin.dev/assets/css/styles.fca51db8.css">
<link rel="preload" href="/pcoin.dev/assets/js/runtime~main.d644e1da.js" as="script">
<link rel="preload" href="/pcoin.dev/assets/js/main.94e4c7ef.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#036487;color:black" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">PCOIN is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pcoin.dev/"><div class="navbar__logo"><img src="/pcoin.dev/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/pcoin.dev/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Pcoin</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pcoin.dev/docs">Docs</a><a class="navbar__item navbar__link" href="/pcoin.dev/download">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/pcoin.dev/"><img src="/pcoin.dev/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/pcoin.dev/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Pcoin</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pcoin.dev/docs">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/pcoin.dev/docs/Pcoin-Core">PCOIN Core</a><button aria-label="Toggle the collapsible sidebar category &#x27;PCOIN Core&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Building/build-osx">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Development/developer-notes">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Development/developer-notes">Developer Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Development/release-process">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Development/REST-interface">Unauthenticated REST Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Development/dnsseed-policy">Expectations for DNS Seed operators</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/pcoin.dev/docs/Pcoin-Core/Miscellaneous/files">Miscellaneous</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/pcoin.dev/docs/Help/faq">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pcoin.dev/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pcoin.dev/docs/Pcoin-Core"><span itemprop="name">PCOIN Core</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developer Notes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Developer Notes</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="coding-style-general">Coding Style (General)<a class="hash-link" href="#coding-style-general" title="Direct link to heading">​</a></h2><p>Various coding styles have been used during the history of the codebase,
and the result is not very consistent. However, we&#x27;re now trying to converge to
a single style, which is specified below. When writing patches, favor the new
style over attempting to mimic the surrounding style, except for move-only
commits.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="coding-style-c">Coding Style (C++)<a class="hash-link" href="#coding-style-c" title="Direct link to heading">​</a></h2><ul><li><p><strong>Indentation and whitespace rules</strong> as specified in
<a href="https://github.com/pcoinproject/pcoin/blob/master/src/.clang-format" target="_blank" rel="noopener noreferrer">src/.clang-format</a>. You can use the provided
<a href="https://github.com/pcoinproject/pcoin/tree/master/contrib/devtools#clang-format-diffpy" target="_blank" rel="noopener noreferrer">clang-format-diff script</a>
tool to clean up patches automatically before submission.</p><ul><li>Braces on new lines for classes, functions, methods.</li><li>Braces on the same line for everything else.</li><li>4 space indentation (no tabs) for every block except namespaces.</li><li>No indentation for <code>public</code>/<code>protected</code>/<code>private</code> or for <code>namespace</code>.</li><li>No extra spaces inside parenthesis; don&#x27;t do ( this )</li><li>No space after function names; one space after <code>if</code>, <code>for</code> and <code>while</code>.</li><li>If an <code>if</code> only has a single-statement <code>then</code>-clause, it can appear
on the same line as the <code>if</code>, without braces. In every other case,
braces are required, and the <code>then</code> and <code>else</code> clauses must appear
correctly indented on a new line.</li></ul></li><li><p><strong>Symbol naming conventions</strong>. These are preferred in new code, but are not
required when doing so would need changes to significant pieces of existing
code.</p><ul><li>Constant names are all uppercase, and use <code>_</code> to separate words.</li><li>Class names, function names and method names are UpperCamelCase
(PascalCase). Do not prefix class names with <code>C</code>.</li><li>Test suite naming convention: The Boost test suite in file
<code>src/test/foo_tests.cpp</code> should be named <code>foo_tests</code>. Test suite names
must be unique.</li></ul></li><li><p><strong>Miscellaneous</strong></p><ul><li><code>++i</code> is preferred over <code>i++</code>.</li><li><code>nullptr</code> is preferred over <code>NULL</code> or <code>(void*)0</code>.</li><li><code>static_assert</code> is preferred over <code>assert</code> where possible. Generally; compile-time checking is preferred over run-time checking.</li><li><code>enum class</code> is preferred over <code>enum</code> where possible. Scoped enumerations avoid two potential pitfalls/problems with traditional C++ enumerations: implicit conversions to int, and name clashes due to enumerators being exported to the surrounding scope.</li></ul></li></ul><p>Block style example:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> g_count </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">namespace</span><span class="token plain"> foo </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token plain">string m_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">public</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">Function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token plain">string</span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// Comment summarising what this section of code does</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> total_sum </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">// When something fails, return early</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token function" style="color:rgb(220, 220, 170)">Something</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">SomethingElse</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                total_sum </span><span class="token operator" style="color:rgb(212, 212, 212)">+=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">ComputeSomething</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">g_count</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                </span><span class="token function" style="color:rgb(220, 220, 170)">DoSomething</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">m_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> total_sum</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// Success return is usually at the end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// namespace foo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="coding-style-python">Coding Style (Python)<a class="hash-link" href="#coding-style-python" title="Direct link to heading">​</a></h2><p>Refer to <a href="https://github.com/pcoinproject/pcoin/tree/master/test/functional#style-guidelines" target="_blank" rel="noopener noreferrer">/test/functional/README.md#style-guidelines</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="coding-style-doxygen-compatible-comments">Coding Style (Doxygen-compatible comments)<a class="hash-link" href="#coding-style-doxygen-compatible-comments" title="Direct link to heading">​</a></h2><p>PCOIN Core uses <a href="http://www.doxygen.nl/" target="_blank" rel="noopener noreferrer">Doxygen</a> to generate its official documentation.</p><p>Use Doxygen-compatible comment blocks for functions, methods, and fields.</p><p>For example, to describe a function use:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * ... text ...</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * @param[in] arg1    A description</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * @param[in] arg2    Another argument description</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * @pre Precondition for function...</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> arg1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain">arg2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A complete list of <code>@xxx</code> commands can be found at <a href="http://www.doxygen.nl/manual/commands.html" target="_blank" rel="noopener noreferrer">http://www.doxygen.nl/manual/commands.html</a>.
As Doxygen recognizes the comments by the delimiters (<code>/**</code> and <code>*/</code> in this case), you don&#x27;t
<em>need</em> to provide any commands for a comment to be valid; just a description text is fine.</p><p>To describe a class use the same construct above the class definition:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * Alerts are for notifying old versions if they become too obsolete and</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * need to upgrade. The message is displayed in the status bar.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> * @see GetWarnings()</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">CAlert</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To describe a member or variable use:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> var</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">//!&lt; Detailed description after the member</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">//! Description before the member</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> var</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Also OK:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">/// ... text ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">function2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:rgb(86, 156, 214)">int</span><span class="token plain"> arg1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain">arg2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Not OK (used plenty in the current source, but not picked up):</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// ... text ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">//</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A full list of comment syntaxes picked up by Doxygen can be found at <a href="http://www.doxygen.nl/manual/docblocks.html" target="_blank" rel="noopener noreferrer">http://www.doxygen.nl/manual/docblocks.html</a>,
but the above styles are favored.</p><p>Documentation can be generated with <code>make docs</code> and cleaned up with <code>make clean-docs</code>. The resulting files are located in <code>doc/doxygen/html</code>; open <code>index.html</code> to view the homepage.</p><p>Before running <code>make docs</code>, you will need to install dependencies <code>doxygen</code> and <code>dot</code>. For example, on MacOS via Homebrew:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">brew </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> doxygen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="development-tips-and-tricks">Development tips and tricks<a class="hash-link" href="#development-tips-and-tricks" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="compiling-for-debugging">Compiling for debugging<a class="hash-link" href="#compiling-for-debugging" title="Direct link to heading">​</a></h3><p>Run configure with <code>--enable-debug</code> to add additional compiler flags that
produce better debugging builds.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="compiling-for-gprof-profiling">Compiling for gprof profiling<a class="hash-link" href="#compiling-for-gprof-profiling" title="Direct link to heading">​</a></h3><p>Run configure with the <code>--enable-gprof</code> option, then make.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debuglog">debug.log<a class="hash-link" href="#debuglog" title="Direct link to heading">​</a></h3><p>If the code is behaving strangely, take a look in the debug.log file in the data directory;
error and debugging messages are written there.</p><p>The <code>-debug=...</code> command-line option controls debugging; running with just <code>-debug</code> or <code>-debug=1</code> will turn
on all categories (and give you a very large debug.log file).</p><p>The Qt code routes <code>qDebug()</code> output to debug.log under category &quot;qt&quot;: run with <code>-debug=qt</code>
to see it.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="testnet-and-regtest-modes">Testnet and Regtest modes<a class="hash-link" href="#testnet-and-regtest-modes" title="Direct link to heading">​</a></h3><p>Run with the <code>-testnet</code> option to run with &quot;play PCOINs (tPCOIN)&quot; on the test network, if you
are testing multi-machine code that needs to operate across the internet.</p><p>If you are testing something that can run on one machine, run with the <code>-regtest</code> option.
In regression test mode, blocks can be created on-demand; see <a href="https://github.com/pcoinproject/pcoin/tree/master/test/functional" target="_blank" rel="noopener noreferrer">test/functional/</a> for tests
that run in <code>-regtest</code> mode.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="debug_lockorder">DEBUG_LOCKORDER<a class="hash-link" href="#debug_lockorder" title="Direct link to heading">​</a></h3><p>PCOIN Core is a multi-threaded application, and deadlocks or other
multi-threading bugs can be very difficult to track down. The <code>--enable-debug</code>
configure option adds <code>-DDEBUG_LOCKORDER</code> to the compiler flags. This inserts
run-time checks to keep track of which locks are held, and adds warnings to the
debug.log file if inconsistencies are detected.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="valgrind-suppressions-file">Valgrind suppressions file<a class="hash-link" href="#valgrind-suppressions-file" title="Direct link to heading">​</a></h3><p>Valgrind is a programming tool for memory debugging, memory leak detection, and
profiling. The repo contains a Valgrind suppressions file
(<a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/valgrind.supp" target="_blank" rel="noopener noreferrer"><code>valgrind.supp</code></a>)
which includes known Valgrind warnings in our dependencies that cannot be fixed
in-tree. Example use:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">$ valgrind --suppressions</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">contrib/valgrind.supp src/test/test_pcoin</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">$ valgrind --suppressions</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">contrib/valgrind.supp --leak-check</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">full </span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      --show-leak-kinds</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">all src/test/test_pcoin --log_level</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">test_suite</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">$ valgrind -v --leak-check</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">full src/pcoind -printtoconsole</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="compiling-for-test-coverage">Compiling for test coverage<a class="hash-link" href="#compiling-for-test-coverage" title="Direct link to heading">​</a></h3><p>LCOV can be used to generate a test coverage report based upon <code>make check</code>
execution. LCOV must be installed on your system (e.g. the <code>lcov</code> package
on Debian/Ubuntu).</p><p>To enable LCOV report generation during test runs:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">./configure --enable-lcov</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> cov</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># A coverage report will now be accessible at `./test_pcoin.coverage/index.html`.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sanitizers">Sanitizers<a class="hash-link" href="#sanitizers" title="Direct link to heading">​</a></h3><p>PCOIN can be compiled with various &quot;sanitizers&quot; enabled, which add
instrumentation for issues regarding things like memory safety, thread race
conditions, or undefined behavior. This is controlled with the
<code>--with-sanitizers</code> configure flag, which should be a comma separated list of
sanitizers to enable. The sanitizer list should correspond to supported
<code>-fsanitize=</code> options in your compiler. These sanitizers have runtime overhead,
so they are most useful when testing changes or producing debugging builds.
Some examples:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Enable both the address sanitizer and the undefined behavior sanitizer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./configure --with-sanitizers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">address,undefined</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Enable the thread sanitizer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./configure --with-sanitizers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">thread</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additional resources:</p><ul><li><a href="https://clang.llvm.org/docs/AddressSanitizer.html" target="_blank" rel="noopener noreferrer">AddressSanitizer</a></li><li><a href="https://clang.llvm.org/docs/LeakSanitizer.html" target="_blank" rel="noopener noreferrer">LeakSanitizer</a></li><li><a href="https://clang.llvm.org/docs/MemorySanitizer.html" target="_blank" rel="noopener noreferrer">MemorySanitizer</a></li><li><a href="https://clang.llvm.org/docs/ThreadSanitizer.html" target="_blank" rel="noopener noreferrer">ThreadSanitizer</a></li><li><a href="https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html" target="_blank" rel="noopener noreferrer">UndefinedBehaviorSanitizer</a></li><li><a href="https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html" target="_blank" rel="noopener noreferrer">GCC Instrumentation Options</a></li><li><a href="https://github.com/google/sanitizers/wiki" target="_blank" rel="noopener noreferrer">Google Sanitizers Wiki</a></li><li><a href="https://github.com/bitcoin/bitcoin/issues/12691" target="_blank" rel="noopener noreferrer">Issue #12691: Enable -fsanitize flags in Travis</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lockingmutex-usage-notes">Locking/mutex usage notes<a class="hash-link" href="#lockingmutex-usage-notes" title="Direct link to heading">​</a></h2><p>The code is multi-threaded, and uses mutexes and the
<code>LOCK</code> and <code>TRY_LOCK</code> macros to protect data structures.</p><p>Deadlocks due to inconsistent lock ordering (thread 1 locks <code>cs_main</code> and then
<code>cs_wallet</code>, while thread 2 locks them in the opposite order: result, deadlock
as each waits for the other to release its lock) are a problem. Compile with
<code>-DDEBUG_LOCKORDER</code> (or use <code>--enable-debug</code>) to get lock order inconsistencies
reported in the debug.log file.</p><p>Re-architecting the core code so there are better-defined interfaces
between the various components is a goal, with any necessary locking
done by the components (e.g. see the self-contained <code>CKeyStore</code> class
and its <code>cs_KeyStore</code> lock for example).</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="threads">Threads<a class="hash-link" href="#threads" title="Direct link to heading">​</a></h2><ul><li><p>ThreadScriptCheck : Verifies block scripts.</p></li><li><p>ThreadImport : Loads blocks from blk<!-- -->*<!-- -->.dat files or bootstrap.dat.</p></li><li><p>StartNode : Starts other threads.</p></li><li><p>ThreadDNSAddressSeed : Loads addresses of peers from the DNS.</p></li><li><p>ThreadMapPort : Universal plug-and-play startup/shutdown</p></li><li><p>ThreadSocketHandler : Sends/Receives data from peers on port 8333.</p></li><li><p>ThreadOpenAddedConnections : Opens network connections to added nodes.</p></li><li><p>ThreadOpenConnections : Initiates new connections to peers.</p></li><li><p>ThreadMessageHandler : Higher-level message handling (sending and receiving).</p></li><li><p>DumpAddresses : Dumps IP addresses of nodes to peers.dat.</p></li><li><p>ThreadRPCServer : Remote procedure call handler, listens on port 8332 for connections and services them.</p></li><li><p>BitcoinMiner : Generates PCOINs (if wallet is enabled).</p></li><li><p>Shutdown : Does an orderly shutdown of everything.</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ignoring-ideeditor-files">Ignoring IDE/editor files<a class="hash-link" href="#ignoring-ideeditor-files" title="Direct link to heading">​</a></h2><p>In closed-source environments in which everyone uses the same IDE it is common
to add temporary files it produces to the project-wide <code>.gitignore</code> file.</p><p>However, in open source software such as PCOIN Core, where everyone uses
their own editors/IDE/tools, it is less common. Only you know what files your
editor produces and this may change from version to version. The canonical way
to do this is thus to create your local gitignore. Add this to <code>~/.gitconfig</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">[core]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        excludesfile = /home/.../.gitignore_global</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(alternatively, type the command <code>git config --global core.excludesfile ~/.gitignore_global</code>
on a terminal)</p><p>Then put your favourite tool&#x27;s temporary filenames in that file, e.g.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain"># NetBeans</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">nbproject/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Another option is to create a per-repository excludes file <code>.git/info/exclude</code>.
These are not committed but apply only to one repository.</p><p>If a set of tools is used by the build system or scripts the repository (for
example, lcov) it is perfectly acceptable to add its files to <code>.gitignore</code>
and commit them.</p><h1>Development guidelines</h1><p>A few non-style-related recommendations for developers, as well as points to
pay attention to for reviewers of PCOIN Core code.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="general-pcoin-core">General PCOIN Core<a class="hash-link" href="#general-pcoin-core" title="Direct link to heading">​</a></h2><ul><li><p>New features should be exposed on RPC first, then can be made available in the GUI</p><ul><li><em>Rationale</em>: RPC allows for better automatic testing. The test suite for
the GUI is very limited</li></ul></li><li><p>Make sure pull requests pass Travis CI before merging</p><ul><li><p><em>Rationale</em>: Makes sure that they pass thorough testing, and that the tester will keep passing
on the master branch. Otherwise all new pull requests will start failing the tests, resulting in
confusion and mayhem</p></li><li><p><em>Explanation</em>: If the test suite is to be updated for a change, this has to
be done first</p></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="wallet">Wallet<a class="hash-link" href="#wallet" title="Direct link to heading">​</a></h2><ul><li><p>Make sure that no crashes happen with run-time option <code>-disablewallet</code>.</p><ul><li><em>Rationale</em>: In RPC code that conditionally uses the wallet (such as
<code>validateaddress</code>) it is easy to forget that global pointer <code>pwalletMain</code>
can be nullptr. See <code>test/functional/disablewallet.py</code> for functional tests
exercising the API with <code>-disablewallet</code></li></ul></li><li><p>Include <code>db_cxx.h</code> (BerkeleyDB header) only when <code>ENABLE_WALLET</code> is set</p><ul><li><em>Rationale</em>: Otherwise compilation of the disable-wallet build will fail in environments without BerkeleyDB</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="general-c">General C++<a class="hash-link" href="#general-c" title="Direct link to heading">​</a></h2><p>For general C++ guidelines, you may refer to the <a href="https://isocpp.github.io/CppCoreGuidelines/" target="_blank" rel="noopener noreferrer">C++ Core
Guidelines</a>.</p><p>Common misconceptions are clarified in those sections:</p><ul><li><p>Passing (non-)fundamental types in the <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rf-conventional" target="_blank" rel="noopener noreferrer">C++ Core
Guideline</a></p></li><li><p>Assertions should not have side-effects</p><ul><li><em>Rationale</em>: Even though the source code is set to refuse to compile
with assertions disabled, having side-effects in assertions is unexpected and
makes the code harder to understand</li></ul></li><li><p>If you use the <code>.h</code>, you must link the <code>.cpp</code></p><ul><li><em>Rationale</em>: Include files define the interface for the code in implementation files. Including one but
not linking the other is confusing. Please avoid that. Moving functions from
the <code>.h</code> to the <code>.cpp</code> should not result in build errors</li></ul></li><li><p>Use the RAII (Resource Acquisition Is Initialization) paradigm where possible. For example by using
<code>unique_ptr</code> for allocations in a function.</p><ul><li><em>Rationale</em>: This avoids memory and resource leaks, and ensures exception safety</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="c-data-structures">C++ data structures<a class="hash-link" href="#c-data-structures" title="Direct link to heading">​</a></h2><ul><li><p>Never use the <code>std::map []</code> syntax when reading from a map, but instead use <code>.find()</code></p><ul><li><em>Rationale</em>: <code>[]</code> does an insert (of the default element) if the item doesn&#x27;t
exist in the map yet. This has resulted in memory leaks in the past, as well as
race conditions (expecting read-read behavior). Using <code>[]</code> is fine for <em>writing</em> to a map</li></ul></li><li><p>Do not compare an iterator from one data structure with an iterator of
another data structure (even if of the same type)</p><ul><li><em>Rationale</em>: Behavior is undefined. In C++ parlor this means &quot;may reformat
the universe&quot;, in practice this has resulted in at least one hard-to-debug crash bug</li></ul></li><li><p>Watch out for out-of-bounds vector access. <code>&amp;vch[vch.size()]</code> is illegal,
including <code>&amp;vch[0]</code> for an empty vector. Use <code>vch.data()</code> and <code>vch.data() + vch.size()</code> instead.</p></li><li><p>Vector bounds checking is only enabled in debug mode. Do not rely on it</p></li><li><p>Initialize all non-static class members where they are defined.
If this is skipped for a good reason (i.e., optimization on the critical
path), add an explicit comment about this</p><ul><li><em>Rationale</em>: Ensure determinism by avoiding accidental use of uninitialized
values. Also, static analyzers balk about this.
Initializing the members in the declaration makes it easy to
spot uninitialized ones.</li></ul></li></ul><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">A</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">uint32_t</span><span class="token plain"> m_count</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>By default, declare single-argument constructors <code>explicit</code>.</p><ul><li><em>Rationale</em>: This is a precaution to avoid unintended conversions that might
arise when single-argument constructors are used as implicit conversion
functions.</li></ul></li><li><p>Use explicitly signed or unsigned <code>char</code>s, or even better <code>uint8_t</code> and
<code>int8_t</code>. Do not use bare <code>char</code> unless it is to pass to a third-party API.
This type can be signed or unsigned depending on the architecture, which can
lead to interoperability problems or dangerous conditions such as
out-of-bounds array accesses</p></li><li><p>Prefer explicit constructions over implicit ones that rely on &#x27;magical&#x27; C++ behavior</p><ul><li><em>Rationale</em>: Easier to understand what is happening, thus easier to spot mistakes, even for those
that are not language lawyers</li></ul></li><li><p>Use <code>Span</code> as function argument when it can operate on any range-like container.</p><ul><li><em>Rationale</em>: Compared to <code>Foo(const vector&lt;int&gt;&amp;)</code> this avoids the need for a (potentially expensive)
conversion to vector if the caller happens to have the input stored in another type of container.
However, be aware of the pitfalls documented in <a href="https://github.com/pcoinproject/pcoin/blob/master/src/span.h" target="_blank" rel="noopener noreferrer">span.h</a>.</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="strings-and-formatting">Strings and formatting<a class="hash-link" href="#strings-and-formatting" title="Direct link to heading">​</a></h2><ul><li><p>Be careful of <code>LogPrint</code> versus <code>LogPrintf</code>. <code>LogPrint</code> takes a <code>category</code> argument, <code>LogPrintf</code> does not.</p><ul><li><em>Rationale</em>: Confusion of these can result in runtime exceptions due to
formatting mismatch, and it is easy to get wrong because of subtly similar naming</li></ul></li><li><p>Use <code>std::string</code>, avoid C string manipulation functions</p><ul><li><em>Rationale</em>: C++ string handling is marginally safer, less scope for
buffer overflows and surprises with <code>\0</code> characters. Also some C string manipulations
tend to act differently depending on platform, or even the user locale</li></ul></li><li><p>Use <code>ParseInt32</code>, <code>ParseInt64</code>, <code>ParseUInt32</code>, <code>ParseUInt64</code>, <code>ParseDouble</code> from <code>utilstrencodings.h</code> for number parsing</p><ul><li><em>Rationale</em>: These functions do overflow checking, and avoid pesky locale issues.</li></ul></li><li><p>Avoid using locale dependent functions if possible.</p><ul><li><p><em>Rationale</em>: Unnecessary locale dependence can cause bugs that are very tricky to isolate and fix.</p></li><li><p>These functions are known to be locale dependent:
<code>alphasort</code>, <code>asctime</code>, <code>asprintf</code>, <code>atof</code>, <code>atoi</code>, <code>atol</code>, <code>atoll</code>, <code>atoq</code>,
<code>btowc</code>, <code>ctime</code>, <code>dprintf</code>, <code>fgetwc</code>, <code>fgetws</code>, <code>fprintf</code>, <code>fputwc</code>,
<code>fputws</code>, <code>fscanf</code>, <code>fwprintf</code>, <code>getdate</code>, <code>getwc</code>, <code>getwchar</code>, <code>isalnum</code>,
<code>isalpha</code>, <code>isblank</code>, <code>iscntrl</code>, <code>isdigit</code>, <code>isgraph</code>, <code>islower</code>, <code>isprint</code>,
<code>ispunct</code>, <code>isspace</code>, <code>isupper</code>, <code>iswalnum</code>, <code>iswalpha</code>, <code>iswblank</code>,
<code>iswcntrl</code>, <code>iswctype</code>, <code>iswdigit</code>, <code>iswgraph</code>, <code>iswlower</code>, <code>iswprint</code>,
<code>iswpunct</code>, <code>iswspace</code>, <code>iswupper</code>, <code>iswxdigit</code>, <code>isxdigit</code>, <code>mblen</code>,
<code>mbrlen</code>, <code>mbrtowc</code>, <code>mbsinit</code>, <code>mbsnrtowcs</code>, <code>mbsrtowcs</code>, <code>mbstowcs</code>,
<code>mbtowc</code>, <code>mktime</code>, <code>putwc</code>, <code>putwchar</code>, <code>scanf</code>, <code>snprintf</code>, <code>sprintf</code>,
<code>sscanf</code>, <code>stoi</code>, <code>stol</code>, <code>stoll</code>, <code>strcasecmp</code>, <code>strcasestr</code>, <code>strcoll</code>,
<code>strfmon</code>, <code>strftime</code>, <code>strncasecmp</code>, <code>strptime</code>, <code>strtod</code>, <code>strtof</code>,
<code>strtoimax</code>, <code>strtol</code>, <code>strtold</code>, <code>strtoll</code>, <code>strtoq</code>, <code>strtoul</code>,
<code>strtoull</code>, <code>strtoumax</code>, <code>strtouq</code>, <code>strxfrm</code>, <code>swprintf</code>, <code>tolower</code>,
<code>toupper</code>, <code>towctrans</code>, <code>towlower</code>, <code>towupper</code>, <code>ungetwc</code>, <code>vasprintf</code>,
<code>vdprintf</code>, <code>versionsort</code>, <code>vfprintf</code>, <code>vfscanf</code>, <code>vfwprintf</code>, <code>vprintf</code>,
<code>vscanf</code>, <code>vsnprintf</code>, <code>vsprintf</code>, <code>vsscanf</code>, <code>vswprintf</code>, <code>vwprintf</code>,
<code>wcrtomb</code>, <code>wcscasecmp</code>, <code>wcscoll</code>, <code>wcsftime</code>, <code>wcsncasecmp</code>, <code>wcsnrtombs</code>,
<code>wcsrtombs</code>, <code>wcstod</code>, <code>wcstof</code>, <code>wcstoimax</code>, <code>wcstol</code>, <code>wcstold</code>,
<code>wcstoll</code>, <code>wcstombs</code>, <code>wcstoul</code>, <code>wcstoull</code>, <code>wcstoumax</code>, <code>wcswidth</code>,
<code>wcsxfrm</code>, <code>wctob</code>, <code>wctomb</code>, <code>wctrans</code>, <code>wctype</code>, <code>wcwidth</code>, <code>wprintf</code></p></li></ul></li><li><p>For <code>strprintf</code>, <code>LogPrint</code>, <code>LogPrintf</code> formatting characters don&#x27;t need size specifiers</p><ul><li><em>Rationale</em>: PCOIN Core uses tinyformat, which is type safe. Leave them out to avoid confusion</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="variable-names">Variable names<a class="hash-link" href="#variable-names" title="Direct link to heading">​</a></h2><p>Although the shadowing warning (<code>-Wshadow</code>) is not enabled by default (it prevents issues rising
from using a different variable with the same name),
please name variables so that their names do not shadow variables defined in the source code.</p><p>E.g. in member initializers, prepend <code>_</code> to the argument name shadowing the
member name:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">AddressBookPage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Mode m_mode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token class-name" style="color:rgb(78, 201, 176)">AddressBookPage</span><span class="token double-colon punctuation" style="color:rgb(212, 212, 212)">::</span><span class="token function" style="color:rgb(220, 220, 170)">AddressBookPage</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">Mode _mode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">m_mode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">_mode</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When using nested cycles, do not name the inner cycle variable the same as in
upper cycle etc.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="threads-and-synchronization">Threads and synchronization<a class="hash-link" href="#threads-and-synchronization" title="Direct link to heading">​</a></h2><ul><li><p>Build and run tests with <code>-DDEBUG_LOCKORDER</code> to verify that no potential
deadlocks are introduced. This is defined by default when configuring
with <code>--enable-debug</code></p></li><li><p>When using <code>LOCK</code>/<code>TRY_LOCK</code> be aware that the lock exists in the context of
the current scope, so surround the statement and the code that needs the lock
with braces</p><p>OK:</p></li></ul><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function" style="color:rgb(220, 220, 170)">TRY_LOCK</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cs_vNodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> lockNodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Wrong:</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">TRY_LOCK</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cs_vNodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> lockNodes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scripts">Scripts<a class="hash-link" href="#scripts" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="shebang">Shebang<a class="hash-link" href="#shebang" title="Direct link to heading">​</a></h3><ul><li><p>Use <code>#!/usr/bin/env bash</code> instead of obsolete <code>#!/bin/bash</code>.</p><ul><li><p><a href="https://github.com/dylanaraps/pure-bash-bible#shebang" target="_blank" rel="noopener noreferrer"><em>Rationale</em></a>:</p><p><code>#!/bin/bash</code> assumes it is always installed to /bin/ which can cause issues;</p><p><code>#!/usr/bin/env bash</code> searches the user&#x27;s PATH to find the bash binary.</p></li></ul><p>OK:</p></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token shebang important">#!/usr/bin/env bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Wrong:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token shebang important">#!/bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="source-code-organization">Source code organization<a class="hash-link" href="#source-code-organization" title="Direct link to heading">​</a></h2><ul><li><p>Implementation code should go into the <code>.cpp</code> file and not the <code>.h</code>, unless necessary due to template usage or
when performance due to inlining is critical</p><ul><li><em>Rationale</em>: Shorter and simpler header files are easier to read, and reduce compile time</li></ul></li><li><p>Use only the lowercase alphanumerics (<code>a-z0-9</code>), underscore (<code>_</code>) and hyphen (<code>-</code>) in source code filenames.</p><ul><li><em>Rationale</em>: <code>grep</code>:ing and auto-completing filenames is easier when using a consistent
naming pattern. Potential problems when building on case-insensitive filesystems are
avoided when using only lowercase characters in source code filenames.</li></ul></li><li><p>Every <code>.cpp</code> and <code>.h</code> file should <code>#include</code> every header file it directly uses classes, functions or other
definitions from, even if those headers are already included indirectly through other headers.</p><ul><li><em>Rationale</em>: Excluding headers because they are already indirectly included results in compilation
failures when those indirect dependencies change. Furthermore, it obscures what the real code
dependencies are.</li></ul></li><li><p>Don&#x27;t import anything into the global namespace (<code>using namespace ...</code>). Use
fully specified types such as <code>std::string</code>.</p><ul><li><em>Rationale</em>: Avoids symbol conflicts</li></ul></li><li><p>Terminate namespaces with a comment (<code>// namespace mynamespace</code>). The comment
should be placed on the same line as the brace closing the namespace, e.g.</p></li></ul><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">namespace</span><span class="token plain"> mynamespace </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// namespace mynamespace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">namespace</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// namespace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p><em>Rationale</em>: Avoids confusion about the namespace context</p></li><li><p>Use include guards to avoid the problem of double inclusion. The header file
<code>foo/bar.h</code> should use the include guard identifier <code>BITCOIN_FOO_BAR_H</code>, e.g.</p></li></ul><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(86, 156, 214)">ifndef</span><span class="token macro property"> </span><span class="token macro property expression">BITCOIN_FOO_BAR_H</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(86, 156, 214)">define</span><span class="token macro property"> </span><span class="token macro property macro-name">BITCOIN_FOO_BAR_H</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(86, 156, 214)">endif</span><span class="token macro property"> </span><span class="token macro property comment" style="color:rgb(106, 153, 85)">// BITCOIN_FOO_BAR_H</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="gui">GUI<a class="hash-link" href="#gui" title="Direct link to heading">​</a></h2><ul><li><p>Do not display or manipulate dialogs in model code (classes <code>*Model</code>)</p><ul><li><em>Rationale</em>: Model classes pass through events and data from the core, they
should not interact with the user. That&#x27;s where View classes come in. The converse also
holds: try to not directly access core data structures from Views.</li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="subtrees">Subtrees<a class="hash-link" href="#subtrees" title="Direct link to heading">​</a></h2><p>Several parts of the repository are subtrees of software maintained elsewhere.</p><p>Some of these are maintained by active developers of Bitcoin Core, in which case changes should probably go
directly upstream without being PRed directly against the project. They will be merged back in the next
subtree merge.</p><p>Others are external projects without a tight relationship with our project. Changes to these should also
be sent upstream but bugfixes may also be prudent to PR against PCOIN Core so that they can be integrated
quickly. Cosmetic changes should be purely taken upstream.</p><p>There is a tool in <code>test/lint/git-subtree-check.sh</code> (<a href="https://github.com/pcoinproject/pcoin/tree/master/test/lint#git-subtree-checksh" target="_blank" rel="noopener noreferrer">instructions</a>) to check a subtree directory for consistency with
its upstream repository.</p><p>Current subtrees include:</p><ul><li><p>src/leveldb</p><ul><li>Upstream at <a href="https://github.com/google/leveldb" target="_blank" rel="noopener noreferrer">https://github.com/google/leveldb</a> ; Maintained by Google, but
open important PRs to Core to avoid delay.</li><li><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Follow the instructions in <a href="#upgrading-leveldb">Upgrading LevelDB</a> when
merging upstream changes to the LevelDB subtree.</p></div></div></li></ul></li><li><p>src/crc32c</p><ul><li>Used by leveldb for hardware acceleration of CRC32C checksums for data integrity.</li><li>Upstream at <a href="https://github.com/google/crc32c" target="_blank" rel="noopener noreferrer">https://github.com/google/crc32c</a> ; Maintained by Google.</li></ul></li><li><p>src/secp256k1</p><ul><li>Upstream at <a href="https://github.com/bitcoin-core/secp256k1/" target="_blank" rel="noopener noreferrer">https://github.com/bitcoin-core/secp256k1/</a> ; actively maintained by Core contributors.</li></ul></li><li><p>src/univalue</p><ul><li>Upstream at <a href="https://github.com/bitcoin-core/univalue" target="_blank" rel="noopener noreferrer">https://github.com/bitcoin-core/univalue</a> ; actively maintained by Core contributors, deviates from upstream <a href="https://github.com/jgarzik/univalue" target="_blank" rel="noopener noreferrer">https://github.com/jgarzik/univalue</a></li></ul></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="upgrading-leveldb">Upgrading LevelDB<a class="hash-link" href="#upgrading-leveldb" title="Direct link to heading">​</a></h2><p>Extra care must be taken when upgrading LevelDB. This section explains issues
you must be aware of.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="file-descriptor-counts">File Descriptor Counts<a class="hash-link" href="#file-descriptor-counts" title="Direct link to heading">​</a></h3><p>In most configurations we use the default LevelDB value for <code>max_open_files</code>,
which is 1000 at the time of this writing. If LevelDB actually uses this many
file descriptors it will cause problems with PCOIN&#x27;s <code>select()</code> loop, because
it may cause new sockets to be created where the fd value is &gt;= 1024. For this
reason, on 64-bit Unix systems we rely on an internal LevelDB optimization that
uses <code>mmap()</code> + <code>close()</code> to open table files without actually retaining
references to the table file descriptors. If you are upgrading LevelDB, you must
sanity check the changes to make sure that this assumption remains valid.</p><p>In addition to reviewing the upstream changes in <code>env_posix.cc</code>, you can use <code>lsof</code> to
check this. For example, on Linux this command will show open <code>.ldb</code> file counts:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">$ </span><span class="token function" style="color:rgb(220, 220, 170)">lsof</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(156, 220, 254)">$(</span><span class="token variable" style="color:rgb(156, 220, 254)">pidof pcoind</span><span class="token variable" style="color:rgb(156, 220, 254)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function" style="color:rgb(220, 220, 170)">awk</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;BEGIN { fd=0; mem=0; } /ldb$/ { if ($4 == &quot;mem&quot;) mem++; else fd++ } END { printf &quot;mem = %s, fd = %s\n&quot;, mem, fd}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">mem </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">119</span><span class="token plain">, fd </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>mem</code> value shows how many files are mmap&#x27;ed, and the <code>fd</code> value shows you
many file descriptors these files are using. You should check that <code>fd</code> is a
small number (usually 0 on 64-bit hosts).</p><p>See the notes in the <code>SetMaxOpenFiles()</code> function in <code>dbwrapper.cc</code> for more
details.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="consensus-compatibility">Consensus Compatibility<a class="hash-link" href="#consensus-compatibility" title="Direct link to heading">​</a></h3><p>It is possible for LevelDB changes to inadvertently change consensus
compatibility between nodes. This happened in Bitcoin 0.8 (when LevelDB was
first introduced). When upgrading LevelDB you should review the upstream changes
to check for issues affecting consensus compatibility.</p><p>For example, if LevelDB had a bug that accidentally prevented a key from being
returned in an edge case, and that bug was fixed upstream, the bug &quot;fix&quot; would
be an incompatible consensus change. In this situation the correct behavior
would be to revert the upstream fix before applying the updates to Bitcoin&#x27;s
copy of LevelDB. In general you should be wary of any upstream changes affecting
what data is returned from LevelDB queries.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="scripted-diffs">Scripted diffs<a class="hash-link" href="#scripted-diffs" title="Direct link to heading">​</a></h2><p>For reformatting and refactoring commits where the changes can be easily automated using a bash script, we use
scripted-diff commits. The bash script is included in the commit message and our Travis CI job checks that
the result of the script is identical to the commit. This aids reviewers since they can verify that the script
does exactly what it&#x27;s supposed to do. It is also helpful for rebasing (since the same script can just be re-run
on the new master commit).</p><p>To create a scripted-diff:</p><ul><li>start the commit message with <code>scripted-diff:</code> (and then a description of the diff on the same line)</li><li>in the commit message include the bash script between lines containing just the following text:<ul><li><code>-BEGIN VERIFY SCRIPT-</code></li><li><code>-END VERIFY SCRIPT-</code></li></ul></li></ul><p>The scripted-diff is verified by the tool <code>test/lint/commit-script-check.sh</code>. The tool&#x27;s default behavior when supplied
with a commit is to verify all scripted-diffs from the beginning of time up to said commit. Internally, the tool passes
the first supplied argument to <code>git rev-list --reverse</code> to determine which commits to verify script-diffs for, ignoring
commits that don&#x27;t conform to the commit message format described above.</p><p>For development, it might be more convenient to verify all scripted-diffs in a range <code>A..B</code>, for example:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">test/lint/commit-script-check.sh origin/master</span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">HEAD</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Commit <a href="https://github.com/bitcoin/bitcoin/commit/bb81e173" target="_blank" rel="noopener noreferrer"><code>bb81e173</code></a> is an example of a scripted-diff.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-and-github-tips">Git and GitHub tips<a class="hash-link" href="#git-and-github-tips" title="Direct link to heading">​</a></h2><ul><li>For resolving merge/rebase conflicts, it can be useful to enable diff3 style using
<code>git config merge.conflictstyle diff3</code>. Instead of</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &lt;&lt;&lt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        yours</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ===</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        theirs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &gt;&gt;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>you will see</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &lt;&lt;&lt;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        yours</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        |||</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        original</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        ===</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        theirs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        &gt;&gt;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This may make it much clearer what caused the conflict. In this style, you can often just look
at what changed between <em>original</em> and <em>theirs</em>, and mechanically apply that to <em>yours</em> (or the other way around).</p><ul><li><p>When reviewing patches which change indentation in C++ files, use <code>git diff -w</code> and <code>git show -w</code>. This makes
the diff algorithm ignore whitespace changes. This feature is also available on github.com, by adding <code>?w=1</code>
at the end of any URL which shows a diff.</p></li><li><p>When reviewing patches that change symbol names in many places, use <code>git diff --word-diff</code>. This will instead
of showing the patch as deleted/added <em>lines</em>, show deleted/added <em>words</em>.</p></li><li><p>When reviewing patches that move code around, try using
<code>git diff --patience commit~:old/file.cpp commit:new/file/name.cpp</code>, and ignoring everything except the
moved body of code which should show up as neither <code>+</code> or <code>-</code> lines. In case it was not a pure move, this may
even work when combined with the <code>-w</code> or <code>--word-diff</code> options described above.</p></li><li><p>When looking at other&#x27;s pull requests, it may make sense to add the following section to your <code>.git/config</code>
file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">  [remote &quot;upstream-pull&quot;]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          fetch = +refs/pull/*:refs/remotes/upstream-pull/*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">          url = git@github.com:pcoinproject/pcoin.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will add an <code>upstream-pull</code> remote to your git repository, which can be fetched using <code>git fetch --all</code>
or <code>git fetch upstream-pull</code>. Afterwards, you can use <code>upstream-pull/NUMBER/head</code> in arguments to <code>git show</code>,
<code>git checkout</code> and anywhere a commit id would be acceptable to see the changes from pull request NUMBER.</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="release-notes">Release notes<a class="hash-link" href="#release-notes" title="Direct link to heading">​</a></h2><p>Release notes should be written for any PR that:</p><ul><li>introduces a notable new feature</li><li>fixes a significant bug</li><li>changes an API or configuration model</li><li>makes any other visible change to the end-user experience.</li></ul><p>Release notes should be added to a PR-specific release note file at
<code>/doc/release-notes-&lt;PR number&gt;.md</code> to avoid conflicts between multiple PRs.
All <code>release-notes*</code> files are merged into a single
<code>/doc/release-notes.md</code> file prior to the release.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpc-interface-guidelines">RPC interface guidelines<a class="hash-link" href="#rpc-interface-guidelines" title="Direct link to heading">​</a></h2><p>A few guidelines for introducing and reviewing new RPC interfaces:</p><ul><li><p>Method naming: use consecutive lower-case names such as <code>getrawtransaction</code> and <code>submitblock</code></p><ul><li><em>Rationale</em>: Consistency with existing interface.</li></ul></li><li><p>Argument naming: use snake case <code>fee_delta</code> (and not, e.g. camel case <code>feeDelta</code>)</p><ul><li><em>Rationale</em>: Consistency with existing interface.</li></ul></li><li><p>Use the JSON parser for parsing, don&#x27;t manually parse integers or strings from
arguments unless absolutely necessary.</p><ul><li><p><em>Rationale</em>: Introduces hand-rolled string manipulation code at both the caller and callee sites,
which is error prone, and it is easy to get things such as escaping wrong.
JSON already supports nested data structures, no need to re-invent the wheel.</p></li><li><p><em>Exception</em>: AmountFromValue can parse amounts as string. This was introduced because many JSON
parsers and formatters hard-code handling decimal numbers as floating point
values, resulting in potential loss of precision. This is unacceptable for
monetary values. <strong>Always</strong> use <code>AmountFromValue</code> and <code>ValueFromAmount</code> when
inputting or outputting monetary values. The only exceptions to this are
<code>prioritisetransaction</code> and <code>getblocktemplate</code> because their interface
is specified as-is in BIP22.</p></li></ul></li><li><p>Missing arguments and &#x27;null&#x27; should be treated the same: as default values. If there is no
default value, both cases should fail in the same way. The easiest way to follow this
guideline is detect unspecified arguments with <code>params[x].isNull()</code> instead of
<code>params.size() &lt;= x</code>. The former returns true if the argument is either null or missing,
while the latter returns true if is missing, and false if it is null.</p><ul><li><em>Rationale</em>: Avoids surprises when switching to name-based arguments. Missing name-based arguments
are passed as &#x27;null&#x27;.</li></ul></li><li><p>Try not to overload methods on argument type. E.g. don&#x27;t make <code>getblock(true)</code> and <code>getblock(&quot;hash&quot;)</code>
do different things.</p><ul><li><p><em>Rationale</em>: This is impossible to use with <code>pcoin-cli</code>, and can be surprising to users.</p></li><li><p><em>Exception</em>: Some RPC calls can take both an <code>int</code> and <code>bool</code>, most notably when a bool was switched
to a multi-value, or due to other historical reasons. <strong>Always</strong> have false map to 0 and
true to 1 in this case.</p></li></ul></li><li><p>Don&#x27;t forget to fill in the argument names correctly in the RPC command table.</p><ul><li><em>Rationale</em>: If not, the call can not be used with name-based arguments.</li></ul></li><li><p>Set okSafeMode in the RPC command table to a sensible value: safe mode is when the
blockchain is regarded to be in a confused state, and the client deems it unsafe to
do anything irreversible such as send. Anything that just queries should be permitted.</p><ul><li><em>Rationale</em>: Troubleshooting a node in safe mode is difficult if half the
RPCs don&#x27;t work.</li></ul></li><li><p>Add every non-string RPC argument <code>(method, idx, name)</code> to the table <code>vRPCConvertParams</code> in <code>rpc/client.cpp</code>.</p><ul><li><em>Rationale</em>: <code>pcoin-cli</code> and the GUI debug console use this table to determine how to
convert a plaintext command line to JSON. If the types don&#x27;t match, the method can be unusable
from there.</li></ul></li><li><p>A RPC method must either be a wallet method or a non-wallet method. Do not
introduce new methods that differ in behavior based on presence of a wallet.</p><ul><li><em>Rationale</em>: as well as complicating the implementation and interfering
with the introduction of multi-wallet, wallet and non-wallet code should be
separated to avoid introducing circular dependencies between code units.</li></ul></li><li><p>Try to make the RPC response a JSON object.</p><ul><li><em>Rationale</em>: If a RPC response is not a JSON object then it is harder to avoid API breakage if
new data in the response is needed.</li></ul></li><li><p>Be aware of RPC method aliases and generally avoid registering the same
callback function pointer for different RPCs.</p><ul><li><p><em>Rationale</em>: RPC methods registered with the same function pointer will be
considered aliases and only the first method name will show up in the
<code>help</code> rpc command list.</p></li><li><p><em>Exception</em>: Using RPC method aliases may be appropriate in cases where a
new RPC is replacing a deprecated RPC, to avoid both RPCs confusingly
showing up in the command list.</p></li></ul></li><li><p>Wallet RPCs call BlockUntilSyncedToCurrentChain to maintain consistency with
<code>getblockchaininfo</code>&#x27;s state immediately prior to the call&#x27;s execution. Wallet
RPCs whose behavior does <em>not</em> depend on the current chainstate may omit this
call.</p><ul><li><em>Rationale</em>: In previous versions of Bitcoin Core, the wallet was always
in-sync with the chainstate (by virtue of them all being updated in the
same cs_main lock). In order to maintain the behavior that wallet RPCs
return results as of at least the highest best-known block an RPC
client may be aware of prior to entering a wallet RPC call, we must block
until the wallet is caught up to the chainstate as of the RPC call&#x27;s entry.
This also makes the API much easier for RPC clients to reason about.</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pcoinproject/pcoin.dev/edit/master/docs/Pcoin-Core/Development/developer-notes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pcoin.dev/docs/Pcoin-Core/Building/depends"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Depend</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pcoin.dev/docs/Pcoin-Core/Development/release-process"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release Process</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coding-style-general" class="table-of-contents__link toc-highlight">Coding Style (General)</a></li><li><a href="#coding-style-c" class="table-of-contents__link toc-highlight">Coding Style (C++)</a></li><li><a href="#coding-style-python" class="table-of-contents__link toc-highlight">Coding Style (Python)</a></li><li><a href="#coding-style-doxygen-compatible-comments" class="table-of-contents__link toc-highlight">Coding Style (Doxygen-compatible comments)</a></li><li><a href="#development-tips-and-tricks" class="table-of-contents__link toc-highlight">Development tips and tricks</a><ul><li><a href="#compiling-for-debugging" class="table-of-contents__link toc-highlight">Compiling for debugging</a></li><li><a href="#compiling-for-gprof-profiling" class="table-of-contents__link toc-highlight">Compiling for gprof profiling</a></li><li><a href="#debuglog" class="table-of-contents__link toc-highlight">debug.log</a></li><li><a href="#testnet-and-regtest-modes" class="table-of-contents__link toc-highlight">Testnet and Regtest modes</a></li><li><a href="#debug_lockorder" class="table-of-contents__link toc-highlight">DEBUG_LOCKORDER</a></li><li><a href="#valgrind-suppressions-file" class="table-of-contents__link toc-highlight">Valgrind suppressions file</a></li><li><a href="#compiling-for-test-coverage" class="table-of-contents__link toc-highlight">Compiling for test coverage</a></li><li><a href="#sanitizers" class="table-of-contents__link toc-highlight">Sanitizers</a></li></ul></li><li><a href="#lockingmutex-usage-notes" class="table-of-contents__link toc-highlight">Locking/mutex usage notes</a></li><li><a href="#threads" class="table-of-contents__link toc-highlight">Threads</a></li><li><a href="#ignoring-ideeditor-files" class="table-of-contents__link toc-highlight">Ignoring IDE/editor files</a></li><li><a href="#general-pcoin-core" class="table-of-contents__link toc-highlight">General PCOIN Core</a></li><li><a href="#wallet" class="table-of-contents__link toc-highlight">Wallet</a></li><li><a href="#general-c" class="table-of-contents__link toc-highlight">General C++</a></li><li><a href="#c-data-structures" class="table-of-contents__link toc-highlight">C++ data structures</a></li><li><a href="#strings-and-formatting" class="table-of-contents__link toc-highlight">Strings and formatting</a></li><li><a href="#variable-names" class="table-of-contents__link toc-highlight">Variable names</a></li><li><a href="#threads-and-synchronization" class="table-of-contents__link toc-highlight">Threads and synchronization</a></li><li><a href="#scripts" class="table-of-contents__link toc-highlight">Scripts</a><ul><li><a href="#shebang" class="table-of-contents__link toc-highlight">Shebang</a></li></ul></li><li><a href="#source-code-organization" class="table-of-contents__link toc-highlight">Source code organization</a></li><li><a href="#gui" class="table-of-contents__link toc-highlight">GUI</a></li><li><a href="#subtrees" class="table-of-contents__link toc-highlight">Subtrees</a></li><li><a href="#upgrading-leveldb" class="table-of-contents__link toc-highlight">Upgrading LevelDB</a><ul><li><a href="#file-descriptor-counts" class="table-of-contents__link toc-highlight">File Descriptor Counts</a></li><li><a href="#consensus-compatibility" class="table-of-contents__link toc-highlight">Consensus Compatibility</a></li></ul></li><li><a href="#scripted-diffs" class="table-of-contents__link toc-highlight">Scripted diffs</a></li><li><a href="#git-and-github-tips" class="table-of-contents__link toc-highlight">Git and GitHub tips</a></li><li><a href="#release-notes" class="table-of-contents__link toc-highlight">Release notes</a></li><li><a href="#rpc-interface-guidelines" class="table-of-contents__link toc-highlight">RPC interface guidelines</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Pcoin</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pcoin.dev/docs/help/faq">FAQ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pcoin.dev/docs">Docs</a></li><li class="footer__item"><a href="https://github.com/pcoinproject/pcoin/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Pcoin. All rights reserved.</div></div></div></footer></div>
<script src="/pcoin.dev/assets/js/runtime~main.d644e1da.js"></script>
<script src="/pcoin.dev/assets/js/main.94e4c7ef.js"></script>
</body>
</html>