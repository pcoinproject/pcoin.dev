<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Pcoin-Core/Development/release-process">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","xxx","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-rh="true">Release Process | Pcoin</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcoin.dev/docs/Pcoin-Core/Development/release-process"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Release Process | Pcoin"><meta data-rh="true" name="description" content="Branch updates"><meta data-rh="true" property="og:description" content="Branch updates"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pcoin.dev/docs/Pcoin-Core/Development/release-process"><link data-rh="true" rel="alternate" href="https://pcoin.dev/docs/Pcoin-Core/Development/release-process" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcoin.dev/docs/Pcoin-Core/Development/release-process" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.02342d0c.css">
<link rel="preload" href="/assets/js/runtime~main.5107c5d3.js" as="script">
<link rel="preload" href="/assets/js/main.a8ec235e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#036487;color:black" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">PCOIN is still under active development, be aware that breaking changes may occur.</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Pcoin</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Pcoin Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Pcoin</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/Pcoin-Core">PCOIN Core</a><button aria-label="Toggle the collapsible sidebar category &#x27;PCOIN Core&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Pcoin-Core/Building/build-osx">Building</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Pcoin-Core/Development/developer-notes">Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Pcoin-Core/Development/developer-notes">Developer Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Pcoin-Core/Development/release-process">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Pcoin-Core/Development/REST-interface">Unauthenticated REST Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Pcoin-Core/Development/dnsseed-policy">Expectations for DNS Seed operators</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Pcoin-Core/Miscellaneous/files">Miscellaneous</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Pcoin-Core/deploying-your-own-pcoin-netwok">Deploying your own PCOIN network</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/User-Guide/getting-started">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/PIPs">PCOIN Improvement Proposals (PIPs)</a><button aria-label="Toggle the collapsible sidebar category &#x27;PCOIN Improvement Proposals (PIPs)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Help/faq">Help</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Pcoin-Core"><span itemprop="name">PCOIN Core</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release Process</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release Process</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="branch-updates">Branch updates<a class="hash-link" href="#branch-updates" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="before-every-release-candidate">Before every release candidate<a class="hash-link" href="#before-every-release-candidate" title="Direct link to heading">​</a></h3><ul><li>Update manpages, see <a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/devtools/README.md#gen-manpagessh" target="_blank" rel="noopener noreferrer">gen-manpages.sh</a>.</li><li>Update release candidate version in <code>configure.ac</code> (<code>CLIENT_VERSION_RC</code>)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="before-every-major-and-minor-release">Before every major and minor release<a class="hash-link" href="#before-every-major-and-minor-release" title="Direct link to heading">​</a></h3><ul><li>Update version in <code>configure.ac</code> (don&#x27;t forget to set <code>CLIENT_VERSION_IS_RELEASE</code> to <code>true</code>) (don&#x27;t forget to set <code>CLIENT_VERSION_RC</code> to <code>0</code>)</li><li>Write release notes (see below)</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="before-every-major-release">Before every major release<a class="hash-link" href="#before-every-major-release" title="Direct link to heading">​</a></h3><ul><li>Update hardcoded <a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/seeds/README.md" target="_blank" rel="noopener noreferrer">seeds</a>, see <a href="https://github.com/bitcoin/bitcoin/pull/7415" target="_blank" rel="noopener noreferrer">this pull request</a> for an example.</li><li>Update <a href="https://github.com/pcoinproject/pcoin/blob/master/src/qt/intro.cpp" target="_blank" rel="noopener noreferrer"><code>BLOCK_CHAIN_SIZE</code> and <code>TESTNET_BLOCK_CHAIN_SIZE</code></a> to the current size plus some overhead for each respective network.</li><li>Update <code>src/chainparams.cpp</code> with statistics about the transaction count and rate.</li><li>On both the master branch and the new release branch:<ul><li>update <code>CLIENT_VERSION_MINOR</code> in <a href="https://github.com/pcoinproject/pcoin/blob/master/configure.ac" target="_blank" rel="noopener noreferrer"><code>configure.ac</code></a></li></ul></li><li>On the new release branch in <a href="https://github.com/pcoinproject/pcoin/blob/master/configure.ac" target="_blank" rel="noopener noreferrer"><code>configure.ac</code></a>:<ul><li>set <code>CLIENT_VERSION_REVISION</code> to <code>0</code></li><li>set <code>CLIENT_VERSION_IS_RELEASE</code> to <code>true</code></li></ul></li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="after-branch-off-on-master">After branch-off (on master)<a class="hash-link" href="#after-branch-off-on-master" title="Direct link to heading">​</a></h4><ul><li>Update the version of <code>contrib/gitian-descriptors/*.yml</code>.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="after-branch-off-on-the-major-release-branch">After branch-off (on the major release branch)<a class="hash-link" href="#after-branch-off-on-the-major-release-branch" title="Direct link to heading">​</a></h4><ul><li>Update the versions and the link to the release notes draft in <code>doc/release-notes.md</code>.</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="before-final-release">Before final release<a class="hash-link" href="#before-final-release" title="Direct link to heading">​</a></h4><ul><li>Merge the release notes into the branch.</li><li>Ensure the &quot;Needs release note&quot; label is removed from all relevant pull requests and issues.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="building">Building<a class="hash-link" href="#building" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first-time--new-builders">First time / New builders<a class="hash-link" href="#first-time--new-builders" title="Direct link to heading">​</a></h3><p>If you&#x27;re using the automated script (found in <a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/gitian-build.py" target="_blank" rel="noopener noreferrer">contrib/gitian-build.py</a>), then at this point you should run it with the &quot;--setup&quot; command. Otherwise ignore this.</p><p>Check out the source code in the following directory hierarchy.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> /path/to/your/toplevel/build</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone https://github.com/pcoinproject/gitian.sigs.git</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone https://github.com/pcoinproject/pcoin-detached-sigs.git</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone https://github.com/devrandom/gitian-builder.git</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> clone https://github.com/pcoinproject/pcoin.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pcoin-maintainersrelease-engineers-suggestion-for-writing-release-notes">PCOIN maintainers/release engineers, suggestion for writing release notes<a class="hash-link" href="#pcoin-maintainersrelease-engineers-suggestion-for-writing-release-notes" title="Direct link to heading">​</a></h3><p>Write release notes. git shortlog helps a lot, for example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> shortlog --no-merges v</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">current version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">0.7</span><span class="token plain">.2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">new version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">0.8</span><span class="token plain">.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Generate list of authors:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> log --format</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;- %aN&#x27;</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">current version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">3.2</span><span class="token plain">.2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">new version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">3.2</span><span class="token plain">.3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">sort</span><span class="token plain"> -fiu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Tag the version (or release candidate) in git:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> tag -s v</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">new version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">0.8</span><span class="token plain">.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="setup-and-perform-gitian-builds">Setup and perform Gitian builds<a class="hash-link" href="#setup-and-perform-gitian-builds" title="Direct link to heading">​</a></h3><p>If you&#x27;re using the automated script (found in <a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/gitian-build.py" target="_blank" rel="noopener noreferrer">contrib/gitian-build.py</a>), then at this point you should run it with the &quot;--build&quot; command. Otherwise ignore this.</p><p>Setup Gitian descriptors:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./pcoin</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">SIGNER</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">your Gitian key, ie bluematt, sipa, etc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">VERSION</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">new version, e.g. </span><span class="token number" style="color:rgb(181, 206, 168)">0.8</span><span class="token plain">.0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> fetch</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> checkout </span><span class="token function" style="color:rgb(220, 220, 170)">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ensure your gitian.sigs are up-to-date if you wish to gverify your builds against other Gitian signatures.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian.sigs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> pull</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Ensure gitian-builder is up-to-date:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> pull</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="fetch-and-create-inputs-first-time-or-when-dependency-versions-change">Fetch and create inputs: (first time, or when dependency versions change)<a class="hash-link" href="#fetch-and-create-inputs-first-time-or-when-dependency-versions-change" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mkdir</span><span class="token plain"> -p inputs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">wget</span><span class="token plain"> -O osslsigncode-2.0.tar.gz -P inputs https://github.com/mtrojnar/osslsigncode/archive/2.0.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;5a60e0a4b3e0b4d655317b2f12a810211c50242138322b16e7e01c6fbb89d92f inputs/osslsigncode-2.0.tar.gz&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> sha256sum -c</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create the macOS SDK tarball, see the <a href="https://github.com/pcoinproject/pcoin/blob/master/contrib/macdeploy/README.md" target="_blank" rel="noopener noreferrer">macdeploy instructions</a> for details, and copy it into the inputs directory.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="optional-seed-the-gitian-sources-cache-and-offline-git-repositories">Optional: Seed the Gitian sources cache and offline git repositories<a class="hash-link" href="#optional-seed-the-gitian-sources-cache-and-offline-git-repositories" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Gitian is sometimes unable to download files. If you have errors, try the step below.</p></div></div><p>By default, Gitian will fetch source files as needed. To cache them ahead of time, make sure you have checked out the tag you want to build in pcoin, then:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">make</span><span class="token plain"> -C </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/depends download </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">SOURCES_PATH</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token variable" style="color:rgb(156, 220, 254)">`</span><span class="token variable builtin class-name" style="color:rgb(78, 201, 176)">pwd</span><span class="token variable" style="color:rgb(156, 220, 254)">`</span><span class="token plain">/cache/common</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Only missing files will be fetched, so this is safe to re-run for each build.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Offline builds must use the --url flag to ensure Gitian fetches only from local URLs. For example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild --url </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">pcoin</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">/path/to/pcoin,signature</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">/path/to/sigs </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain">rest of arguments</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The gbuild invocations below <b>DO NOT DO THIS</b> by default.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="build-and-sign-pcoin-core-for-linux-windows-and-macos">Build and sign PCOIN Core for Linux, Windows, and macOS:<a class="hash-link" href="#build-and-sign-pcoin-core-for-linux-windows-and-macos" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild --num-make </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> --memory </span><span class="token number" style="color:rgb(181, 206, 168)">3000</span><span class="token plain"> --commit </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">pcoin</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-linux.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gsign --signer </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$SIGNER</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --release </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-linux --destination </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-linux.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*.tar.gz build/out/src/pcoin-*.tar.gz </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild --num-make </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> --memory </span><span class="token number" style="color:rgb(181, 206, 168)">3000</span><span class="token plain"> --commit </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">pcoin</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gsign --signer </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$SIGNER</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --release </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-unsigned --destination </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*-win-unsigned.tar.gz inputs/pcoin-win-unsigned.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*.zip build/out/pcoin-*.exe </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild --num-make </span><span class="token number" style="color:rgb(181, 206, 168)">2</span><span class="token plain"> --memory </span><span class="token number" style="color:rgb(181, 206, 168)">3000</span><span class="token plain"> --commit </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">pcoin</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gsign --signer </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$SIGNER</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --release </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-unsigned --destination </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*-osx-unsigned.tar.gz inputs/pcoin-osx-unsigned.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*.tar.gz build/out/pcoin-*.dmg </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Build output expected:</p><ol><li>source tarball (<code>pcoin-${VERSION}.tar.gz</code>)</li><li>linux 32-bit and 64-bit dist tarballs (<code>pcoin-${VERSION}-linux[32|64].tar.gz</code>)</li><li>windows 32-bit and 64-bit unsigned installers and dist zips (<code>pcoin-${VERSION}-win[32|64]-setup-unsigned.exe</code>, <code>pcoin-${VERSION}-win[32|64].zip</code>)</li><li>macOS unsigned installer and dist tarball (<code>pcoin-${VERSION}-osx-unsigned.dmg</code>, <code>pcoin-${VERSION}-osx64.tar.gz</code>)</li><li>Gitian signatures (in <code>gitian.sigs/${VERSION}-&lt;linux|{win,osx}-unsigned&gt;/(your Gitian key)/</code>)</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="verify-other-gitian-builders-signatures-to-your-own-optional">Verify other gitian builders signatures to your own. (Optional)<a class="hash-link" href="#verify-other-gitian-builders-signatures-to-your-own-optional" title="Direct link to heading">​</a></h3><p>Add other gitian builders keys to your gpg keyring, and/or refresh keys.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">gpg --import pcoin/contrib/gitian-keys/*.pgp</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">gpg --refresh-keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Verify the signatures</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gverify -v -d </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ -r </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-linux </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-linux.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gverify -v -d </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ -r </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-unsigned </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gverify -v -d </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ -r </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-unsigned </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="next-steps">Next steps:<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h3><p>Commit your signature to gitian.sigs:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> gitian.sigs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-linux/</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-unsigned/</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-unsigned/</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Add </span><span class="token string variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token string" style="color:rgb(206, 145, 120)"> unsigned sigs for </span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> push  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Assuming you can push to the gitian.sigs tree</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Codesigner only: Create Windows/macOS detached signatures:</p><ul><li>Only one person handles codesigning. Everyone else should skip to the next step.</li><li>Only once the Windows/macOS builds each have 3 matching signatures may they be signed with their respective release keys.</li></ul><p>Codesigner only: Sign the macOS binary:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">    transfer pcoin-osx-unsigned.tar.gz to macOS for signing</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tar xf pcoin-osx-unsigned.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ./detached-sig-create.sh -s &quot;Key ID&quot;</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Enter the keychain password and authorize the signature</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Move signature-osx.tar.gz back to the gitian host</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Codesigner only: Sign the windows binaries:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">    tar xf pcoin-win-unsigned.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    ./detached-sig-create.sh -key /path/to/codesign.key</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Enter the passphrase for the key when prompted</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    signature-win.tar.gz will be created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Codesigner only: Commit the detached codesign payloads:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> ~/pcoin-detached-sigs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">checkout the appropriate branch </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> this release series</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">rm</span><span class="token plain"> -rf *</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">tar</span><span class="token plain"> xf signature-osx.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">tar</span><span class="token plain"> xf signature-win.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> -a</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;point to </span><span class="token string variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> tag -s </span><span class="token function" style="color:rgb(220, 220, 170)">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> HEAD</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> push the current branch and new tag</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Non-codesigners: wait for Windows/macOS detached signatures:</p><ul><li>Once the Windows/macOS builds each have 3 matching signatures, they will be signed with their respective release keys.</li><li>Detached signatures will then be committed to the <a href="https://github.com/pcoinproject/pcoin-detached-sigs" target="_blank" rel="noopener noreferrer">pcoin-detached-sigs</a> repository, which can be combined with the unsigned apps to create signed binaries.</li></ul><p>Create (and optionally verify) the signed macOS binary:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild -i --commit </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">signature</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gsign --signer </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$SIGNER</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --release </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-signed --destination </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gverify -v -d </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ -r </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-signed </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-osx-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-osx-signed.dmg </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin-</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx.dmg</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create (and optionally verify) the signed Windows binaries:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> ./gitian-builder</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gbuild -i --commit </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">signature</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">v</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gsign --signer </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$SIGNER</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --release </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-signed --destination </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">./bin/gverify -v -d </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/gitian.sigs/ -r </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-signed </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin/contrib/gitian-descriptors/gitian-win-signer.yml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mv</span><span class="token plain"> build/out/pcoin-*win64-setup.exe </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/pcoin-</span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win64-setup.exe</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Commit your signature for the signed macOS/Windows binaries:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">pushd</span><span class="token plain"> gitian.sigs</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-osx-signed/</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token plain">-win-signed/</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Add </span><span class="token string variable" style="color:rgb(156, 220, 254)">${SIGNER}</span><span class="token string" style="color:rgb(206, 145, 120)"> </span><span class="token string variable" style="color:rgb(156, 220, 254)">${VERSION}</span><span class="token string" style="color:rgb(206, 145, 120)"> signed binaries signatures&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> push  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Assuming you can push to the gitian.sigs tree</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">popd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="after-3-or-more-people-have-gitian-built-and-their-results-match">After 3 or more people have gitian-built and their results match:<a class="hash-link" href="#after-3-or-more-people-have-gitian-built-and-their-results-match" title="Direct link to heading">​</a></h3><ul><li>Create <code>SHA256SUMS.asc</code> for the builds, and GPG-sign it:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">sha256sum * </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> SHA256SUMS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The list of files should be:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-aarch64-linux-gnu.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-arm-linux-gnueabihf.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-i686-pc-linux-gnu.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-riscv64-linux-gnu.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-x86_64-linux-gnu.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-osx64.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-osx.dmg</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}.tar.gz</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-win64-setup.exe</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pcoin-${VERSION}-win64.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>*-debug*</code> files generated by the gitian build contain debug symbols
for troubleshooting by developers. It is assumed that anyone that is interested
in debugging can run gitian to generate the files for themselves. To avoid
end-user confusion about which file to pick, as well as save storage
space <em>do not upload these to github</em>.</p><ul><li>GPG-sign it, delete the unsigned file:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">gpg --digest-algo sha256 --clearsign SHA256SUMS # outputs SHA256SUMS.asc</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rm SHA256SUMS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(the digest algorithm is forced to sha256 to avoid confusion of the <code>Hash:</code> header that GPG adds with the SHA256 used for the files)
Note: check that SHA256SUMS itself doesn&#x27;t end up in SHA256SUMS, which is a spurious/nonsensical entry.</p><ul><li><p>Upload zips and installers, as well as <code>SHA256SUMS.asc</code> from last step, to the GitHub release (see below)</p></li><li><p>Announce the release:</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pcoinproject/pcoin.dev/edit/master/docs/Pcoin-Core/Development/release-process.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Pcoin-Core/Development/developer-notes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Developer Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Pcoin-Core/Development/REST-interface"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Unauthenticated REST Interface</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#branch-updates" class="table-of-contents__link toc-highlight">Branch updates</a><ul><li><a href="#before-every-release-candidate" class="table-of-contents__link toc-highlight">Before every release candidate</a></li><li><a href="#before-every-major-and-minor-release" class="table-of-contents__link toc-highlight">Before every major and minor release</a></li><li><a href="#before-every-major-release" class="table-of-contents__link toc-highlight">Before every major release</a></li></ul></li><li><a href="#building" class="table-of-contents__link toc-highlight">Building</a><ul><li><a href="#first-time--new-builders" class="table-of-contents__link toc-highlight">First time / New builders</a></li><li><a href="#pcoin-maintainersrelease-engineers-suggestion-for-writing-release-notes" class="table-of-contents__link toc-highlight">PCOIN maintainers/release engineers, suggestion for writing release notes</a></li><li><a href="#setup-and-perform-gitian-builds" class="table-of-contents__link toc-highlight">Setup and perform Gitian builds</a></li><li><a href="#fetch-and-create-inputs-first-time-or-when-dependency-versions-change" class="table-of-contents__link toc-highlight">Fetch and create inputs: (first time, or when dependency versions change)</a></li><li><a href="#optional-seed-the-gitian-sources-cache-and-offline-git-repositories" class="table-of-contents__link toc-highlight">Optional: Seed the Gitian sources cache and offline git repositories</a></li><li><a href="#build-and-sign-pcoin-core-for-linux-windows-and-macos" class="table-of-contents__link toc-highlight">Build and sign PCOIN Core for Linux, Windows, and macOS:</a></li><li><a href="#verify-other-gitian-builders-signatures-to-your-own-optional" class="table-of-contents__link toc-highlight">Verify other gitian builders signatures to your own. (Optional)</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps:</a></li><li><a href="#after-3-or-more-people-have-gitian-built-and-their-results-match" class="table-of-contents__link toc-highlight">After 3 or more people have gitian-built and their results match:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Block Explorer</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mainnet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mainnet 1</a></li><li class="footer__item"><a href="https://explorer.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mainnet 2</a></li><li class="footer__item"><a href="https://testnet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet</a></li><li class="footer__item"><a href="https://faucet.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Testnet Faucet</a></li><li class="footer__item"><a href="https://visualizer.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Visualizer</a></li><li class="footer__item"><a href="https://web.pcoin.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pcoin Web Wallet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/help/faq">FAQ</a></li><li class="footer__item"><a href="https://github.com/pcoinproject/pcoin/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Releases</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pcoinproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Pcoin. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5107c5d3.js"></script>
<script src="/assets/js/main.a8ec235e.js"></script>
</body>
</html>